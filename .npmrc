# pnpm (PAPN) AutoForgeNexus 専用設定
# パフォーマンス最適化とセキュリティ強化

# パッケージマネージャー強制
engine-strict=true

# パフォーマンス設定
strict-peer-dependencies=false
auto-install-peers=true
prefer-workspace-packages=true

# ホイスト設定（共通ツール）
hoist-pattern[]=*eslint*
hoist-pattern[]=*prettier*
hoist-pattern[]=*typescript*
hoist-pattern[]=*@types/*
hoist-pattern[]=*husky*
hoist-pattern[]=*lint-staged*

# キャッシュ設定
store-dir=~/.pnpm-store
cache-dir=~/.pnpm-cache
state-dir=~/.pnpm-state

# セキュリティ設定
audit-level=moderate
fund=false

# Node.js設定
node-version=18
use-node-version=18.19.0

# 開発用設定
save-exact=false
save-prefix=^
progress=true
color=always

# workspace設定（最重要）
link-workspace-packages=true
prefer-workspace-packages=true
workspace-concurrency=8
enable-pre-post-scripts=true

# 依存関係設定
resolution-mode=highest
dedupe-peer-dependents=true

# レジストリ設定
registry=https://registry.npmjs.org/
@types:registry=https://registry.npmjs.org/
@autoforge:registry=https://registry.npmjs.org/

# パフォーマンス最適化
side-effects-cache=true
frozen-lockfile=false

# デバッグ（開発時のみ）
# loglevel=debug