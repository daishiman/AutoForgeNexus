# AI プロンプト最適化システム - 完全エージェント体系設計書

## 🎯 **最適化されたエージェントチーム構成**

システムの複雑性と革新的機能を考慮し、以下の 29 エージェント体制が最適です。

## 📊 **エージェント関連性マトリクス**

### **1. system-architect Agent**

システム全体のアーキテクチャビジョンを策定し、技術的意思決定を統括。DDD 原則の適用監督とスケーラビリティ・可用性・保守性を担保

#### 直接連携（強結合）:

- **domain-modellerr Agent**: ドメイン境界の定義、集約ルートの設計承認
- **api-designer Agent**: API アーキテクチャの承認、エンドポイント設計レビュー
- **security-architect Agent**: セキュリティ要件の組み込み、脅威モデリング
- **event-bus-manager Agent**: イベント駆動設計の統括、イベントスキーマ定義
- **product-manager Agent**: 技術的実現可能性の判断、アーキテクチャ決定の説明

#### 間接連携（疎結合）:

- **frontend-architect
  Agent**: フロントエンド・バックエンド間のインターフェース調整
- **devops-coordinator Agent**: デプロイメントアーキテクチャの整合性確認
- **performance-optimizer Agent**: パフォーマンス要件のアーキテクチャへの反映

### **2. domain-modellerr Agent**

ドメイン境界の定義と集約ルートの設計。エンティティ・値オブジェクトのモデリングとユビキタス言語の確立

#### 直接連携:

- **system-architect Agent**: ドメイン設計の承認、アーキテクチャ整合性
- **api-designer Agent**: ドメインモデルの API 表現への変換
- **prompt-engineering-specialist Agent**: プロンプトドメインのモデリング
- **database-administrator Agent**: 永続化層へのドメインモデルマッピング
- **event-bus-manager Agent**: ドメインイベントの定義

#### 間接連携:

- **test-automation-engineer Agent**: ドメインロジックのテスト設計
- **technical-documentation Agent**: ドメインモデルの文書化

### **3. api-designer Agent**

RESTful/GraphQL/gRPC の API 設計とエンドポイント定義。OpenAPI 仕様の作成と API ガバナンスの確立

#### 直接連携:

- **system-architect Agent**: API 設計の承認
- **domain-modellerr Agent**: ドメインモデルから API への変換
- **frontend-architect Agent**: フロントエンド向け API 仕様の調整
- **security-architect Agent**: API 認証・認可の設計
- **llm-integration Agent**: LLM プロバイダー API 統合設計

#### 間接連携:

- **test-automation-engineer Agent**: API テスト仕様の提供
- **performance-optimizer Agent**: API 最適化の要件定義
- **technical-documentation Agent**: OpenAPI 仕様書の作成

### **4. prompt-engineering-specialist Agent**

高品質なプロンプトテンプレートの設計と最適化。マルチモデル対応戦略とプロンプトチェーンの構築

#### 直接連携:

- **llm-integration Agent**: モデル別プロンプト最適化戦略
- **evaluation-engine Agent**: プロンプト品質評価メトリクス定義
- **domain-modellerr Agent**: プロンプトドメインの設計
- **vector-database-specialist Agent**: プロンプト埋め込み戦略
- **workflow-orchestrator Agent**: プロンプトチェーンの設計

#### 間接連携:

- **frontend-architect Agent**: プロンプトエディタ UI 要件
- **user-research Agent**: ユーザーフィードバックからの改善点抽出
- **data-analyst Agent**: プロンプト使用統計分析

### **5. llm-integration Agent**

100+の LLM プロバイダー統合と自動ルーティング。マルチモデル実行環境とコスト最適化戦略の実装

#### 直接連携:

- **prompt-engineering-specialist Agent**: プロンプト実行環境の提供
- **api-designer Agent**: LLM 統合 API の設計
- **cost-optimization Agent**: LLM コスト最適化戦略
- **evaluation-engine Agent**: モデル比較評価の実行
- **edge-computing-specialist Agent**: エッジでの LLM 実行最適化

#### 間接連携:

- **performance-optimizer Agent**: レスポンスタイム最適化
- **observability-engineer Agent**: LLM 呼び出しのトレーシング
- **security-architect Agent**: API キー管理、レート制限

### **6. evaluation-engine Agent**

プロンプト品質の多層評価メトリクス実装。RAG 指標・倫理指標の測定と継続的改善提案の生成

#### 直接連携:

- **prompt-engineering-specialist Agent**: 評価メトリクスの実装
- **llm-integration Agent**: 評価用 LLM 呼び出し
- **data-analyst Agent**: 評価結果の統計分析
- **workflow-orchestrator Agent**: 評価ワークフローの自動化
- **test-automation-engineer Agent**: 評価テストの自動化

#### 間接連携:

- **frontend-architect Agent**: 評価結果表示 UI
- **observability-engineer Agent**: 評価メトリクスの監視

### **7. workflow-orchestrator Agent**

LangGraph を活用したプロンプトチェーンとワークフローの設計・実行。ビジュアルエディタと自動化フローの実装

#### 直接連携:

- **prompt-engineering-specialist Agent**: プロンプトチェーン実行
- **event-bus-manager Agent**: ワークフローイベントの管理
- **evaluation-engine Agent**: 評価ワークフローの統合
- **backend-developer Agent**: ワークフローエンジンの実装
- **real-time-features-specialist Agent**: リアルタイムワークフロー更新

#### 間接連携:

- **frontend-architect Agent**: ワークフローエディタ UI
- **performance-optimizer Agent**: ワークフロー実行最適化

### **8. ui-ux-designer Agent**

ユーザー中心設計とデザインシステムの構築。Figma プロトタイプと shadcn/ui コンポーネントのカスタマイズ

#### 直接連携:

- **frontend-architect Agent**: デザインシステムの実装
- **product-manager Agent**: ユーザー要件のデザインへの反映
- **user-research Agent**: ユーザビリティテスト結果の反映
- **real-time-features-specialist Agent**: リアルタイム UI 要素の設計

#### 間接連携:

- **prompt-engineering-specialist Agent**: プロンプトエディタ UX デザイン
- **technical-documentation Agent**: UI ガイドライン文書化

### **9. frontend-architect Agent**

Next.js 15.5 と React
19 を中心としたモダンフロントエンドアーキテクチャの設計と実装を主導し、高性能でスケーラブルなユーザーインターフェースを構築

#### 直接連携:

- **ui-ux-designer Agent**: デザイン実装
- **api-designer Agent**: API クライアント実装
- **real-time-features-specialist Agent**: WebSocket 統合
- **system-architect Agent**: フロントエンドアーキテクチャ承認
- **performance-optimizer Agent**: フロントエンド最適化

#### 間接連携:

- **test-automation-engineer Agent**: E2E テスト設計
- **devops-coordinator Agent**: フロントエンドデプロイ設定

### **10. real-time-features-specialist Agent**

WebSocket とリアルタイム通信技術を駆使し、協調編集機能や即時データ同期を実現する分散リアルタイムシステムの設計と実装を主導

#### 直接連携:

- **frontend-architect Agent**: リアルタイム UI 実装
- **event-bus-manager Agent**: リアルタイムイベント配信
- **workflow-orchestrator Agent**: リアルタイムワークフロー更新
- **backend-developer Agent**: WebSocket サーバー実装
- **ui-ux-designer Agent**: リアルタイム UX 設計

#### 間接連携:

- **performance-optimizer Agent**: WebSocket 最適化
- **security-architect Agent**: WebSocket セキュリティ

### **11. backend-developer Agent**

FastAPI と Python
3.13 を駆使してドメイン駆動設計に基づくバックエンドシステムを構築し、高性能で保守性の高い API とビジネスロジックを実装

#### 直接連携:

- **domain-modellerr Agent**: ドメインロジック実装
- **api-designer Agent**: API 実装
- **database-administrator Agent**: データアクセス層実装
- **event-bus-manager Agent**: イベントハンドラー実装
- **workflow-orchestrator Agent**: ワークフローエンジン実装

#### 間接連携:

- **test-automation-engineer Agent**: 単体テスト実装
- **security-architect Agent**: セキュリティ要件実装

### **12. database-administrator Agent**

Turso と libSQL を中心としたエッジデータベース設計と最適化を担当し、高性能で信頼性の高いエッジデータ永続化層を構築・運用

#### 直接連携:

- **domain-modellerr Agent**: ドメインモデルの永続化
- **backend-developer Agent**: データアクセス層設計
- **vector-database-specialist Agent**: ベクトルデータ統合
- **data-migration-specialist Agent**: データ移行戦略
- **performance-optimizer Agent**: クエリ最適化

#### 間接連携:

- **security-architect Agent**: データ暗号化設定
- **sre-agent**: バックアップ・リカバリ設定

### **13. vector-database-specialist Agent**

libSQL
Vector を活用した高性能ベクトル検索システムを設計・実装し、プロンプト埋め込みの効率的な管理と類似度検索の最適化を実現

#### 直接連携:

- **prompt-engineering-specialist Agent**: プロンプト埋め込み管理
- **database-administrator Agent**: libSQL Vector 統合
- **evaluation-engine Agent**: 類似度検索評価
- **data-analyst Agent**: ベクトル分析
- **backend-developer Agent**: ベクトル検索 API 実装

#### 間接連携:

- **performance-optimizer Agent**: インデックス最適化
- **cost-optimization Agent**: ストレージコスト管理

### **14. event-bus-manager Agent**

イベント駆動アーキテクチャを統括し、非同期メッセージングとイベントストリーミングの信頼性の高い基盤を構築・管理

#### 直接連携:

- **system-architect Agent**: イベント駆動設計統括
- **domain-modellerr Agent**: ドメインイベント管理
- **backend-developer Agent**: イベントハンドラー実装
- **workflow-orchestrator Agent**: ワークフローイベント
- **real-time-features-specialist Agent**: リアルタイムイベント配信

#### 間接連携:

- **observability-engineer Agent**: イベントトレーシング
- **test-automation-engineer Agent**: イベントテスト

### **15. edge-computing-specialist Agent**

Cloudflare
Workers を中心としたエッジコンピューティング基盤を設計・実装し、グローバルな低レイテンシとスケーラビリティを実現

#### 直接連携:

- **llm-integration Agent**: エッジ LLM 実行
- **devops-coordinator Agent**: Cloudflare Workers 設定
- **performance-optimizer Agent**: エッジ最適化
- **security-architect Agent**: エッジセキュリティ
- **cost-optimization Agent**: エッジコンピューティングコスト

#### 間接連携:

- **backend-developer Agent**: エッジ関数実装
- **observability-engineer Agent**: エッジモニタリング

### **16. security-architect Agent**

ゼロトラストアーキテクチャと多層防御戦略を設計・実装し、認証認可からデータ保護まで包括的なセキュリティ体制を構築

#### 直接連携:

- **system-architect Agent**: セキュリティアーキテクチャ
- **api-designer Agent**: API 認証設計
- **database-administrator Agent**: データ暗号化
- **compliance-officer Agent**: コンプライアンス要件
- **devops-coordinator Agent**: セキュリティ設定

#### 間接連携:

- **test-automation-engineer Agent**: セキュリティテスト
- **technical-documentation Agent**: セキュリティ文書

### **17. performance-optimizer Agent**

システム全体のパフォーマンスを最適化し、データベースからフロントエンドまで全レイヤーのボトルネック解消と効率改善を実現

#### 直接連携:

- **database-administrator Agent**: クエリ最適化
- **frontend-architect Agent**: フロントエンド最適化
- **backend-developer Agent**: バックエンド最適化
- **edge-computing-specialist Agent**: エッジ最適化
- **observability-engineer Agent**: パフォーマンス監視

#### 間接連携:

- **system-architect Agent**: パフォーマンス要件定義
- **cost-optimization Agent**: コスト対効果分析

### **18. observability-engineer Agent**

分散トレーシング、メトリクス、ログを統合した観測可能性プラットフォームを構築し、インシデント検知から根本原因分析まで包括的な監視体制を実現

#### 直接連携:

- **devops-coordinator Agent**: 監視インフラ設定
- **performance-optimizer Agent**: パフォーマンスメトリクス
- **sre-agent**: インシデント検知
- **event-bus-manager Agent**: イベントトレーシング
- **llm-integration Agent**: LLM 監視

#### 間接連携:

- **backend-developer Agent**: ログ実装
- **security-architect Agent**: セキュリティ監視

### **19. test-automation-engineer Agent**

多層テスト戦略を設計・TDD で実装し、、CI/CD パイプラインと統合した自動テストフレームワークで品質保証プロセス全体を自動化

#### 直接連携:

- **backend-developer Agent**: 単体テスト支援
- **frontend-architect Agent**: E2E テスト設計
- **api-designer Agent**: API テスト
- **evaluation-engine Agent**: 評価テスト自動化
- **qa-coordinator Agent**: テスト戦略調整

#### 間接連携:

- **domain-modellerr Agent**: ドメインテスト
- **security-architect Agent**: セキュリティテスト

### **20. product-manager Agent**

製品ビジョンと戦略を策定し、ステークホルダー間の優先順位を調整しながらビジネス成果を最大化する製品開発の統括役

#### 直接連携:

- **system-architect Agent**: 技術的実現可能性
- **ui-ux-designer Agent**: 製品デザイン方向性
- **user-research Agent**: ユーザーインサイト
- **cost-optimization Agent**: 予算管理
- **compliance-officer Agent**: 規制要件確認

#### 間接連携:

- すべてのエージェント: 優先順位とロードマップ共有

### **21. technical-documentation Agent**

技術文書の体系的管理と作成を行い、API 仕様からアーキテクチャ文書まで開発・運用に必要な全ドキュメントを一貫性を持って整備

#### 直接連携:

- **system-architect Agent**: アーキテクチャ文書
- **api-designer Agent**: API 文書
- **domain-modellerr Agent**: ドメイン文書
- **devops-coordinator Agent**: 運用文書
- **security-architect Agent**: セキュリティ文書

#### 間接連携:

- すべての技術エージェント: 技術仕様文書化

### **22. devops-coordinator Agent**

CI/CD パイプラインとインフラのコード化を推進し、Cloudflare エコシステムを活用した開発から本番までの自動化基盤を構築・運用

#### 直接連携:

- **system-architect Agent**: インフラアーキテクチャ
- **edge-computing-specialist Agent**: Cloudflare 設定
- **observability-engineer Agent**: 監視設定
- **sre-agent**: 運用調整
- **security-architect Agent**: セキュリティ設定

#### 間接連携:

- **backend-developer Agent**: デプロイ設定
- **frontend-architect Agent**: フロントエンドデプロイ

### **23. data-migration-specialist Agent**

データ移行戦略の立案から実行まで、ゼロダウンタイムでの安全な移行とデータ整合性を保証しながら ETL パイプラインを構築・最適化

#### 直接連携:

- **database-administrator Agent**: データ移行実行
- **backend-developer Agent**: 移行スクリプト
- **data-analyst Agent**: データ検証
- **system-architect Agent**: 移行戦略承認

#### 間接連携:

- **test-automation-engineer Agent**: 移行テスト
- **technical-documentation Agent**: 移行手順書

### **24. compliance-officer Agent**

GDPR・CCPA 等の規制要件を管理し、データプライバシー保護と監査対応を通じて組織全体のコンプライアンス体制を確立・維持

#### 直接連携:

- **security-architect Agent**: セキュリティコンプライアンス
- **product-manager Agent**: 規制要件管理
- **database-administrator Agent**: データ保護
- **technical-documentation Agent**: コンプライアンス文書

#### 間接連携:

- **system-architect Agent**: アーキテクチャコンプライアンス
- **devops-coordinator Agent**: 運用コンプライアンス

### **25. cost-optimization Agent**

クラウドと LLM のコスト分析・最適化を行い、FinOps 実践を通じて技術投資の ROI を最大化しながら予算管理とコスト削減を実現

#### 直接連携:

- **llm-integration Agent**: LLM コスト最適化
- **edge-computing-specialist Agent**: エッジコスト
- **database-administrator Agent**: ストレージコスト
- **product-manager Agent**: 予算管理
- **devops-coordinator Agent**: インフラコスト

#### 間接連携:

- **performance-optimizer Agent**: コスト対効果
- **vector-database-specialist Agent**: ベクトルストレージコスト

### **26. user-research Agent**

ユーザーインサイトの発掘と分析を行い、定性・定量調査を通じて製品改善と UX 向上のための実用的な洞察を提供

#### 直接連携:

- **product-manager Agent**: ユーザーインサイト共有
- **ui-ux-designer Agent**: デザイン改善提案
- **prompt-engineering-specialist Agent**: プロンプト改善フィードバック
- **data-analyst Agent**: ユーザー行動分析

#### 間接連携:

- **frontend-architect Agent**: UI 改善要件
- **evaluation-engine Agent**: ユーザー評価基準

### **27. data-analyst Agent**

大規模データの統計分析と機械学習を通じて実用的な洞察を提供し、データ駆動型意思決定とビジネスインテリジェンスを実現

#### 直接連携:

- **evaluation-engine Agent**: 評価データ分析
- **user-research Agent**: ユーザーデータ分析
- **vector-database-specialist Agent**: ベクトルデータ分析
- **observability-engineer Agent**: メトリクス分析
- **cost-optimization Agent**: コスト分析

#### 間接連携:

- **product-manager Agent**: ビジネスインサイト
- **performance-optimizer Agent**: パフォーマンス分析

### **28. sre-agent (Site Reliability Engineering) Agent**

サービスの信頼性を保証し SLO 管理とインシデント対応を通じて高可用性を実現し、トイル削減と運用自動化を推進

#### 直接連携:

- **devops-coordinator Agent**: 運用調整
- **observability-engineer Agent**: インシデント監視
- **database-administrator Agent**: DB 可用性
- **performance-optimizer Agent**: SLO 管理
- **security-architect Agent**: セキュリティインシデント

#### 間接連携:

- **backend-developer Agent**: エラーハンドリング
- **technical-documentation Agent**: ランブック作成

### **29. qa-coordinator Agent**

包括的な品質保証戦略を立案しテスト活動を統括することで、継続的な品質改善とリスク管理を通じて高品質なソフトウェアデリバリーを実現

#### 直接連携:

- **test-automation-engineer Agent**: テスト戦略統括
- **product-manager Agent**: 品質基準定義
- **backend-developer Agent**: バグ修正調整
- **frontend-architect Agent**: UI 品質保証
- **evaluation-engine Agent**: 品質評価統合

#### 間接連携:

- **security-architect Agent**: セキュリティ QA
- **performance-optimizer Agent**: パフォーマンステスト

# AI プロンプト最適化システム - 完全エージェント体系設計書

## 🎯 **最適化されたエージェントチーム構成**

システムの複雑性と革新的機能を考慮し、以下の **30 エージェント体制**が最適です。

### **30. version-control-specialist Agent**

Git 操作とバージョン管理戦略を統括し、ブランチ戦略からコンフリクト解決まで包括的なソースコード管理を実現

#### 直接連携（強結合）:

- **devops-coordinator Agent**: CI/CD パイプライン統合、デプロイトリガー
- **test-automation-engineer Agent**: テスト実行とマージ条件
- **technical-documentation Agent**: ドキュメント更新の同期
- **qa-coordinator Agent**: 品質ゲートとマージ承認
- **backend-developer Agent**: コード変更の調整

#### 間接連携（疎結合）:

- **security-architect Agent**: セキュリティスキャンとマージブロック
- **product-manager Agent**: リリース計画とバージョン戦略
- **frontend-architect Agent**: フロントエンド変更の統合
- **system-architect Agent**: アーキテクチャ変更の追跡

## 🔄 **機能横断チーム構成**

### **1. プロンプト最適化チーム**

#### メンバー:

- **prompt-engineering-specialist Agent** (リーダー)
- **llm-integration Agent**
- **evaluation-engine Agent**
- **vector-database-specialist Agent**
- **data-analyst Agent**

#### 協調パターン:

1. **プロンプト設計フェーズ**

   - prompt-engineering-specialist → テンプレート設計
   - vector-database-specialist → 類似プロンプト検索
   - data-analyst → 過去の成功パターン分析

2. **実行・評価フェーズ**

   - llm-integration → マルチモデル実行
   - evaluation-engine → 品質スコアリング
   - data-analyst → 結果統計分析

3. **最適化フェーズ**
   - evaluation-engine → 改善点特定
   - prompt-engineering-specialist → プロンプト調整
   - vector-database-specialist → 最適化版の保存

### **2. リアルタイム協調編集チーム**

#### メンバー:

- **real-time-features-specialist Agent** (リーダー)
- **frontend-architect Agent**
- **event-bus-manager Agent**
- **backend-developer Agent**
- **ui-ux-designer Agent**

#### 協調パターン:

1. **設計フェーズ**

   - ui-ux-designer → 協調編集 UX 設計
   - real-time-features-specialist → WebSocket アーキテクチャ
   - event-bus-manager → イベント設計

2. **実装フェーズ**

   - backend-developer → WebSocket サーバー実装
   - frontend-architect → クライアント実装
   - real-time-features-specialist → 同期ロジック

3. **最適化フェーズ**
   - event-bus-manager → イベント最適化
   - real-time-features-specialist → レイテンシ削減
   - frontend-architect → UI 応答性改善

### **3. データ基盤チーム**

#### メンバー:

- **database-administrator Agent** (リーダー)
- **vector-database-specialist Agent**
- **data-migration-specialist Agent**
- **data-analyst Agent**
- **performance-optimizer Agent**

#### 協調パターン:

1. **設計フェーズ**

   - database-administrator → スキーマ設計
   - vector-database-specialist → ベクトルインデックス設計
   - data-migration-specialist → 移行計画

2. **実装フェーズ**

   - database-administrator → テーブル作成
   - vector-database-specialist → libSQL Vector 設定
   - data-migration-specialist → ETL 実装

3. **運用フェーズ**
   - performance-optimizer → クエリ最適化
   - data-analyst → 使用パターン分析
   - database-administrator → インデックス調整

### **4. セキュリティ・コンプライアンスチーム**

#### メンバー:

- **security-architect Agent** (リーダー)
- **compliance-officer Agent**
- **devops-coordinator Agent**
- **test-automation-engineer Agent**
- **technical-documentation Agent**

#### 協調パターン:

1. **要件定義フェーズ**

   - compliance-officer → 規制要件特定
   - security-architect → セキュリティ要件定義
   - technical-documentation → ポリシー文書化

2. **実装フェーズ**

   - security-architect → セキュリティ実装
   - devops-coordinator → セキュリティ設定
   - test-automation-engineer → セキュリティテスト

3. **監査フェーズ**
   - compliance-officer → 監査準備
   - technical-documentation → 監査文書作成
   - security-architect → 脆弱性対応

### **5. 品質保証チーム**

#### メンバー:

- **qa-coordinator Agent** (リーダー)
- **test-automation-engineer Agent**
- **performance-optimizer Agent**
- **observability-engineer Agent**
- **sre-agent**

#### 協調パターン:

1. **テスト計画フェーズ**

   - qa-coordinator → テスト戦略定義
   - test-automation-engineer → テストケース設計
   - performance-optimizer → パフォーマンス基準設定

2. **テスト実行フェーズ**

   - test-automation-engineer → 自動テスト実行
   - performance-optimizer → 負荷テスト
   - observability-engineer → モニタリング

3. **改善フェーズ**
   - sre-agent → インシデント分析
   - qa-coordinator → 品質改善計画
   - observability-engineer → メトリクス改善

### **6. ワークフロー自動化チーム**

#### メンバー:

- **workflow-orchestrator Agent** (リーダー)
- **event-bus-manager Agent**
- **prompt-engineering-specialist Agent**
- **backend-developer Agent**
- **frontend-architect Agent**

#### 協調パターン:

1. **設計フェーズ**

   - workflow-orchestrator → フロー設計
   - event-bus-manager → イベントフロー定義
   - prompt-engineering-specialist → プロンプトチェーン設計

2. **実装フェーズ**

   - backend-developer → ワークフローエンジン実装
   - frontend-architect → ビジュアルエディタ実装
   - event-bus-manager → イベントハンドラー実装

3. **運用フェーズ**
   - workflow-orchestrator → フロー監視
   - event-bus-manager → イベント監視
   - backend-developer → エラー対応

### **7. インフラ・運用チーム**

#### メンバー:

- **devops-coordinator Agent** (リーダー)
- **edge-computing-specialist Agent**
- **sre-agent**
- **observability-engineer Agent**
- **cost-optimization Agent**

#### 協調パターン:

1. **構築フェーズ**

   - devops-coordinator → インフラ構築
   - edge-computing-specialist → Cloudflare 設定
   - observability-engineer → 監視設定

2. **運用フェーズ**

   - sre-agent → 可用性管理
   - observability-engineer → インシデント検知
   - cost-optimization → コスト監視

3. **最適化フェーズ**
   - edge-computing-specialist → エッジ最適化
   - cost-optimization → コスト削減施策
   - devops-coordinator → インフラ改善

### **8. ソースコード管理チーム**

#### メンバー:

- **version-control-specialist Agent** (リーダー)
- **devops-coordinator Agent**
- **test-automation-engineer Agent**
- **technical-documentation Agent**
- **backend-developer Agent**

#### 協調パターン:

1. **ブランチ戦略フェーズ**

   - version-control-specialist → ブランチ戦略設計
   - devops-coordinator → CI/CD 統合
   - test-automation-engineer → マージ条件定義

2. **開発フェーズ**

   - backend-developer → フィーチャーブランチ作成
   - version-control-specialist → コンフリクト解決支援
   - technical-documentation → ドキュメント同期

3. **リリースフェーズ**
   - version-control-specialist → リリースタグ管理
   - qa-coordinator → 品質承認
   - devops-coordinator → デプロイトリガー

## 🎭 **イベント駆動協調パターン**

### **1. プロンプト作成イベントフロー**

```yaml
Event: PromptCreationRequested
発行者: frontend-architect Agent
購読者:
  - prompt-engineering-specialist Agent (プロンプト生成)
  - domain-modellerr Agent (ドメインオブジェクト作成)
  - event-bus-manager Agent (イベント配信)

後続イベント:
  → PromptDraftCreated
    購読者:
      - ui-ux-designer Agent (UI更新)
      - vector-database-specialist Agent (埋め込み生成)
      - evaluation-engine Agent (初期評価)

  → PromptEmbeddingGenerated
    購読者:
      - database-administrator Agent (保存)
      - data-analyst Agent (分析)
```

### **2. 評価実行イベントフロー**

```yaml
Event: EvaluationRequested
発行者: workflow-orchestrator Agent
購読者:
  - evaluation-engine Agent (評価実行)
  - llm-integration Agent (モデル呼び出し)
  - performance-optimizer Agent (パフォーマンス監視)

後続イベント:
  → EvaluationStarted
    購読者:
      - observability-engineer Agent (トレーシング開始)
      - real-time-features-specialist Agent (進捗配信)

  → EvaluationCompleted
    購読者:
      - data-analyst Agent (結果分析)
      - frontend-architect Agent (結果表示)
      - prompt-engineering-specialist Agent (改善提案)
```

### **3. ワークフロー実行イベントフロー**

```yaml
Event: WorkflowExecutionStarted
発行者: workflow-orchestrator Agent
購読者:
  - backend-developer Agent (実行環境準備)
  - event-bus-manager Agent (イベント監視)
  - observability-engineer Agent (監視開始)

後続イベント:
  → WorkflowStepCompleted
    購読者:
      - real-time-features-specialist Agent (UI更新)
      - data-analyst Agent (ステップ分析)
      - performance-optimizer Agent (ボトルネック検知)

  → WorkflowCompleted
    購読者:
      - frontend-architect Agent (完了通知)
      - data-analyst Agent (全体分析)
      - cost-optimization Agent (コスト計算)
```

### **4. セキュリティインシデントイベントフロー**

```yaml
Event: SecurityIncidentDetected
発行者: security-architect Agent
購読者:
  - sre-agent (インシデント対応)
  - devops-coordinator Agent (隔離措置)
  - compliance-officer Agent (記録)
  - product-manager Agent (影響評価)

後続イベント:
  → IncidentContained
    購読者:
      - technical-documentation Agent (インシデント記録)
      - observability-engineer Agent (詳細分析)

  → IncidentResolved
    購読者:
      - qa-coordinator Agent (再テスト)
      - compliance-officer Agent (報告書作成)
```

### **5. デプロイメントイベントフロー**

```yaml
Event: DeploymentInitiated
発行者: devops-coordinator Agent
購読者:
  - test-automation-engineer Agent (デプロイ前テスト)
  - sre-agent (準備状態確認)
  - observability-engineer Agent (監視強化)

後続イベント:
  → DeploymentInProgress
    購読者:
      - edge-computing-specialist Agent (CDN更新)
      - database-administrator Agent (マイグレーション)

  → DeploymentCompleted
    購読者:
      - qa-coordinator Agent (本番テスト)
      - performance-optimizer Agent (パフォーマンス確認)
      - cost-optimization Agent (コスト影響評価)
```

### **6. ユーザーフィードバックイベントフロー**

```yaml
Event: UserFeedbackReceived
発行者: user-research Agent
購読者:
  - product-manager Agent (優先順位評価)
  - ui-ux-designer Agent (デザイン改善検討)
  - prompt-engineering-specialist Agent (プロンプト改善)

後続イベント:
  → FeedbackAnalyzed
    購読者:
      - data-analyst Agent (傾向分析)
      - qa-coordinator Agent (品質改善)

  → ImprovementPlanned
    購読者:
      - system-architect Agent (技術検討)
      - frontend-architect Agent (実装計画)
```

### **7. コスト最適化イベントフロー**

```yaml
Event: CostThresholdExceeded
発行者: cost-optimization Agent
購読者:
  - product-manager Agent (ビジネス判断)
  - llm-integration Agent (モデル切替検討)
  - edge-computing-specialist Agent (エッジ活用検討)

後続イベント:
  → OptimizationPlanCreated
    購読者:
      - devops-coordinator Agent (インフラ調整)
      - performance-optimizer Agent (パフォーマンス影響評価)

  → OptimizationImplemented
    購読者:
      - observability-engineer Agent (効果測定)
      - data-analyst Agent (コスト分析)
```

### **8. データ移行イベントフロー**

```yaml
Event: DataMigrationStarted
発行者: data-migration-specialist Agent
購読者:
  - database-administrator Agent (DB準備)
  - backend-developer Agent (API一時停止)
  - sre-agent (監視強化)

後続イベント:
  → MigrationInProgress
    購読者:
      - observability-engineer Agent (進捗監視)
      - performance-optimizer Agent (負荷監視)

  → MigrationCompleted
    購読者:
      - test-automation-engineer Agent (整合性テスト)
      - data-analyst Agent (データ検証)
```

### **9. バージョン管理イベントフロー**

```yaml
Event: BranchCreated
発行者: version-control-specialist Agent
購読者:
  - devops-coordinator Agent (CI/CD設定)
  - test-automation-engineer Agent (テスト準備)
  - technical-documentation Agent (ドキュメントブランチ)

後続イベント:
  → PullRequestOpened
    購読者:
      - qa-coordinator Agent (レビュー開始)
      - security-architect Agent (セキュリティスキャン)
      - test-automation-engineer Agent (自動テスト実行)

  → MergeCompleted
    購読者:
      - devops-coordinator Agent (デプロイ準備)
      - technical-documentation Agent (ドキュメント更新)
      - product-manager Agent (リリースノート)
```

### **10. リリース管理イベントフロー**

```yaml
Event: ReleaseTagCreated
発行者: version-control-specialist Agent
購読者:
  - devops-coordinator Agent (本番デプロイ)
  - product-manager Agent (リリース通知)
  - technical-documentation Agent (リリースドキュメント)

後続イベント:
  → ReleaseDeployed
    購読者:
      - observability-engineer Agent (監視強化)
      - sre-agent (可用性確認)
      - cost-optimization Agent (コスト影響評価)
```

## 📈 **エージェント優先順位と実装フェーズ**（更新版）

### **Phase 1: 基盤構築（7 エージェント）**

1. system-architect Agent
2. domain-modeller Agent
3. backend-developer Agent
4. database-administrator Agent
5. devops-coordinator Agent
6. security-architect Agent
7. version-control-specialist Agent

### **Phase 2: コア機能実装（12 エージェント）**

8. prompt-engineering-specialist Agent
9. llm-integration Agent
10. api-designer Agent
11. frontend-architect Agent
12. event-bus-manager Agent
13. test-automation-engineer Agent

### **Phase 3: 高度機能実装（6 エージェント）**

14. evaluation-engine Agent
15. workflow-orchestrator Agent
16. vector-database-specialist Agent
17. real-time-features-specialist Agent
18. ui-ux-designer Agent
19. observability-engineer Agent

### **Phase 4: 最適化・運用（6 エージェント）**

20. performance-optimizer Agent
21. edge-computing-specialist Agent
22. sre Agent
23. cost-optimization Agent
24. data-analyst Agent
25. qa-coordinator Agent

### **Phase 5: エンタープライズ対応（5 エージェント）**

26. compliance-officer Agent
27. data-migration-specialist Agent
28. user-research Agent
29. product-manager Agent
30. technical-documentation Agent

この体制により、AI プロンプト最適化システムの全機能を効率的に開発・運用できる最適なエージェントチーム構成となります。
