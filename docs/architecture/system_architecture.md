# AutoForgeNexus ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆæ›¸

## ğŸ¯ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ¦‚è¦

AutoForgeNexusã¯**DDD + ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹• + ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**ã‚’æ¡ç”¨ã—ã€è¤‡é›‘ãªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’åŠ¹ç‡çš„ã‹ã¤ä¿å®ˆã—ã‚„ã™ã„å½¢ã§å®Ÿè£…ã—ã¾ã™ã€‚

## ğŸ—ï¸ å…¨ä½“ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Presentation Layer                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Next.js UI    â”‚  â”‚   REST API      â”‚  â”‚   GraphQL    â”‚  â”‚
â”‚  â”‚   (React 19)    â”‚  â”‚   (FastAPI)     â”‚  â”‚   (Strawberry)â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Application Layer                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Command Bus    â”‚  â”‚   Query Bus     â”‚  â”‚  Event Bus   â”‚  â”‚
â”‚  â”‚   (CQRS)        â”‚  â”‚    (CQRS)       â”‚  â”‚  (AsyncIO)   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Command Handlersâ”‚  â”‚ Query Handlers  â”‚  â”‚Event Handlersâ”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Domain Layer                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Aggregates    â”‚  â”‚ Domain Services â”‚  â”‚Domain Events â”‚  â”‚
â”‚  â”‚ â€¢ Prompt        â”‚  â”‚ â€¢ Optimization  â”‚  â”‚â€¢ Created     â”‚  â”‚
â”‚  â”‚ â€¢ Evaluation    â”‚  â”‚ â€¢ Analysis      â”‚  â”‚â€¢ Updated     â”‚  â”‚
â”‚  â”‚ â€¢ LLMProvider   â”‚  â”‚ â€¢ Cost Calc     â”‚  â”‚â€¢ Evaluated   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 Infrastructure Layer                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚      Turso      â”‚  â”‚      Redis      â”‚  â”‚   Vector DB  â”‚  â”‚
â”‚  â”‚ (Edge SQLite)   â”‚  â”‚   (Cache/Queue) â”‚  â”‚  (libSQL Vec)â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  LLM Providers  â”‚  â”‚  Event Store    â”‚  â”‚  Monitoring  â”‚  â”‚
â”‚  â”‚ â€¢ OpenAI        â”‚  â”‚  (EventSourcing)â”‚  â”‚ â€¢ Prometheus â”‚  â”‚
â”‚  â”‚ â€¢ Anthropic     â”‚  â”‚                 â”‚  â”‚ â€¢ Grafana    â”‚  â”‚
â”‚  â”‚ â€¢ 100+ others   â”‚  â”‚                 â”‚  â”‚ â€¢ Jaeger     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¨ ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ¬ã‚¤ãƒ¤ãƒ¼

### 1. Presentation Layer (ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³å±¤)

#### Frontend (Next.js 15.5 + React 19)

```typescript
// App Routeræ§‹æˆ
app/
â”œâ”€â”€ (dashboard)/
â”‚   â”œâ”€â”€ prompts/
â”‚   â”‚   â”œâ”€â”€ page.tsx           // ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆä¸€è¦§
â”‚   â”‚   â”œâ”€â”€ [id]/
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx       // ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè©³ç´°
â”‚   â”‚   â”‚   â””â”€â”€ edit/page.tsx  // ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç·¨é›†
â”‚   â”‚   â””â”€â”€ create/page.tsx    // ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆä½œæˆ
â”‚   â”œâ”€â”€ evaluations/
â”‚   â”‚   â”œâ”€â”€ page.tsx           // è©•ä¾¡ä¸€è¦§
â”‚   â”‚   â””â”€â”€ [id]/page.tsx      // è©•ä¾¡è©³ç´°
â”‚   â””â”€â”€ analytics/
â”‚       â””â”€â”€ page.tsx           // åˆ†æãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
â”œâ”€â”€ api/
â”‚   â”œâ”€â”€ prompts/
â”‚   â”‚   â””â”€â”€ route.ts           // ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆAPI
â”‚   â””â”€â”€ evaluations/
â”‚       â””â”€â”€ route.ts           // è©•ä¾¡API
â””â”€â”€ globals.css
```

#### Backend API (FastAPI 0.116.1)

```python
# APIæ§‹æˆ
api/
â”œâ”€â”€ v1/
â”‚   â”œâ”€â”€ prompts/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ router.py          # ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ schemas.py         # Pydanticã‚¹ã‚­ãƒ¼ãƒ
â”‚   â”‚   â””â”€â”€ dependencies.py    # ä¾å­˜æ€§æ³¨å…¥
â”‚   â”œâ”€â”€ evaluations/
â”‚   â”‚   â”œâ”€â”€ router.py
â”‚   â”‚   â””â”€â”€ schemas.py
â”‚   â””â”€â”€ llm/
â”‚       â”œâ”€â”€ router.py
â”‚       â””â”€â”€ schemas.py
â”œâ”€â”€ middleware/
â”‚   â”œâ”€â”€ auth.py                # èªè¨¼ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢
â”‚   â”œâ”€â”€ cors.py                # CORSè¨­å®š
â”‚   â””â”€â”€ rate_limiting.py       # ãƒ¬ãƒ¼ãƒˆåˆ¶é™
â””â”€â”€ main.py                    # FastAPIã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
```

### 2. Application Layer (ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å±¤)

#### CQRSå®Ÿè£…

```python
# Commandå´
@dataclass
class CreatePromptCommand:
    user_id: UserId
    content: str
    template_id: Optional[TemplateId] = None

class CreatePromptCommandHandler:
    def __init__(self,
                 prompt_repo: PromptRepository,
                 event_bus: EventBus):
        self.prompt_repo = prompt_repo
        self.event_bus = event_bus

    async def handle(self, command: CreatePromptCommand) -> PromptId:
        prompt = Prompt.create(
            content=command.content,
            user_id=command.user_id,
            template_id=command.template_id
        )

        await self.prompt_repo.save(prompt)

        # ã‚¤ãƒ™ãƒ³ãƒˆç™ºè¡Œ
        await self.event_bus.publish(
            PromptCreated(
                prompt_id=prompt.id,
                user_id=command.user_id,
                occurred_at=datetime.utcnow()
            )
        )

        return prompt.id

# Queryå´
@dataclass
class GetPromptQuery:
    prompt_id: PromptId
    user_id: UserId

class GetPromptQueryHandler:
    def __init__(self, prompt_query_service: PromptQueryService):
        self.query_service = prompt_query_service

    async def handle(self, query: GetPromptQuery) -> PromptDetailDto:
        return await self.query_service.get_prompt_detail(
            query.prompt_id,
            query.user_id
        )
```

#### Event Buså®Ÿè£…

```python
class EventBus:
    def __init__(self):
        self._handlers: Dict[str, List[EventHandler]] = {}
        self._middleware: List[EventMiddleware] = []

    def subscribe(self, event_type: str, handler: EventHandler):
        if event_type not in self._handlers:
            self._handlers[event_type] = []
        self._handlers[event_type].append(handler)

    async def publish(self, event: DomainEvent):
        # ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢å®Ÿè¡Œ
        for middleware in self._middleware:
            event = await middleware.process(event)

        # ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ãƒ¼å®Ÿè¡Œ
        handlers = self._handlers.get(event.event_type(), [])

        # ä¸¦åˆ—å®Ÿè¡Œ
        tasks = [handler.handle(event) for handler in handlers]
        await asyncio.gather(*tasks, return_exceptions=True)

        # ã‚¤ãƒ™ãƒ³ãƒˆã‚¹ãƒˆã‚¢ä¿å­˜
        await self._save_to_event_store(event)
```

### 3. Domain Layer (ãƒ‰ãƒ¡ã‚¤ãƒ³å±¤)

#### é›†ç´„å®Ÿè£…ä¾‹

```python
class Prompt(AggregateRoot):
    def __init__(self,
                 id: PromptId,
                 content: PromptContent,
                 user_id: UserId,
                 created_at: datetime):
        super().__init__(id)
        self._content = content
        self._user_id = user_id
        self._created_at = created_at
        self._versions: List[PromptVersion] = []
        self._evaluations: List[Evaluation] = []

    @classmethod
    def create(cls,
               content: str,
               user_id: UserId,
               template_id: Optional[TemplateId] = None) -> 'Prompt':
        prompt_id = PromptId.generate()
        prompt_content = PromptContent.of(content)

        prompt = cls(
            id=prompt_id,
            content=prompt_content,
            user_id=user_id,
            created_at=datetime.utcnow()
        )

        # ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆè¿½åŠ 
        prompt._add_domain_event(
            PromptCreated(
                prompt_id=prompt_id,
                user_id=user_id,
                template_id=template_id,
                occurred_at=datetime.utcnow()
            )
        )

        return prompt

    def update_content(self, new_content: str) -> None:
        old_content = self._content
        self._content = PromptContent.of(new_content)

        # ãƒãƒ¼ã‚¸ãƒ§ãƒ³ä½œæˆ
        version = PromptVersion.create(
            prompt_id=self.id,
            content=old_content,
            version_number=len(self._versions) + 1
        )
        self._versions.append(version)

        # ã‚¤ãƒ™ãƒ³ãƒˆè¿½åŠ 
        self._add_domain_event(
            PromptUpdated(
                prompt_id=self.id,
                old_content=old_content.value,
                new_content=new_content,
                occurred_at=datetime.utcnow()
            )
        )
```

#### ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚µãƒ¼ãƒ“ã‚¹å®Ÿè£…

```python
class PromptOptimizationService:
    def __init__(self,
                 llm_clients: Dict[str, LLMClient],
                 evaluation_service: EvaluationService):
        self.llm_clients = llm_clients
        self.evaluation_service = evaluation_service

    async def optimize_prompt(self,
                             prompt: Prompt,
                             strategy: OptimizationStrategy) -> OptimizedPrompt:

        # ç¾åœ¨ã®è©•ä¾¡å–å¾—
        current_evaluation = await self.evaluation_service.evaluate(prompt)

        # æœ€é©åŒ–æˆ¦ç•¥ã«å¿œã˜ãŸæ”¹å–„æ¡ˆç”Ÿæˆ
        if strategy == OptimizationStrategy.GENETIC_ALGORITHM:
            return await self._genetic_optimization(prompt, current_evaluation)
        elif strategy == OptimizationStrategy.REINFORCEMENT_LEARNING:
            return await self._rl_optimization(prompt, current_evaluation)
        else:
            raise ValueError(f"Unsupported strategy: {strategy}")

    async def _genetic_optimization(self,
                                   prompt: Prompt,
                                   baseline: Evaluation) -> OptimizedPrompt:
        # éºä¼çš„ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã«ã‚ˆã‚‹æœ€é©åŒ–
        population = self._generate_initial_population(prompt)

        for generation in range(50):  # 50ä¸–ä»£å®Ÿè¡Œ
            # è©•ä¾¡
            evaluations = await asyncio.gather(*[
                self.evaluation_service.evaluate(candidate)
                for candidate in population
            ])

            # é¸æŠãƒ»äº¤å‰ãƒ»çªç„¶å¤‰ç•°
            population = self._evolve_population(population, evaluations)

        # æœ€å„ªç§€å€‹ä½“é¸æŠ
        best_candidate = max(population,
                           key=lambda p: p.fitness_score)

        return OptimizedPrompt(
            original=prompt,
            optimized=best_candidate,
            improvement_score=best_candidate.fitness_score - baseline.overall_score
        )
```

### 4. Infrastructure Layer (ã‚¤ãƒ³ãƒ•ãƒ©å±¤)

#### ãƒªãƒã‚¸ãƒˆãƒªå®Ÿè£…

```python
class SqlPromptRepository(PromptRepository):
    def __init__(self, session_factory: SessionFactory):
        self.session_factory = session_factory

    async def save(self, prompt: Prompt) -> None:
        async with self.session_factory() as session:
            # ORMã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã«å¤‰æ›
            prompt_entity = PromptEntity.from_domain(prompt)

            session.merge(prompt_entity)
            await session.commit()

            # ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆç™ºè¡Œ
            for event in prompt.get_domain_events():
                await self._event_bus.publish(event)

            prompt.clear_domain_events()

    async def find_by_id(self, prompt_id: PromptId) -> Optional[Prompt]:
        async with self.session_factory() as session:
            prompt_entity = await session.get(PromptEntity, prompt_id.value)

            if prompt_entity is None:
                return None

            return prompt_entity.to_domain()
```

#### ã‚¤ãƒ™ãƒ³ãƒˆã‚¹ãƒˆã‚¢å®Ÿè£…

```python
class TursoEventStore(EventStore):
    def __init__(self, session_factory: SessionFactory):
        self.session_factory = session_factory

    async def save_events(self,
                         stream_id: str,
                         events: List[DomainEvent]) -> None:
        async with self.session_factory() as session:
            event_entities = [
                EventEntity(
                    stream_id=stream_id,
                    event_type=event.event_type(),
                    event_data=json.dumps(event.to_dict()),
                    occurred_at=event.occurred_at,
                    version=await self._get_next_version(session, stream_id)
                )
                for event in events
            ]

            session.add_all(event_entities)
            await session.commit()

    async def get_events(self, stream_id: str) -> List[DomainEvent]:
        async with self.session_factory() as session:
            entities = await session.execute(
                select(EventEntity)
                .where(EventEntity.stream_id == stream_id)
                .order_by(EventEntity.version)
            )

            return [
                self._deserialize_event(entity)
                for entity in entities.scalars()
            ]
```

## ğŸ“Š ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹é¸å®š: Turso vs Supabase

### Tursoé¸å®šã®æ±ºå®šç†ç”±

**æ¤œè¨¼çµæœ: Turso > Supabase**

#### Tursoå„ªä½æ€§

- **ã‚¨ãƒƒã‚¸ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**:

  - Cloudflare Workersçµ±åˆã§50msä»¥ä¸‹ã®ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·
  - æ±äº¬ãƒªãƒ¼ã‚¸ãƒ§ãƒ³å¯¾å¿œã§æ—¥æœ¬ã‹ã‚‰ã®ã‚¢ã‚¯ã‚»ã‚¹æœ€é©åŒ–
  - SQLiteåŸºç›¤ã§ã‚¯ã‚¨ãƒªå®Ÿè¡ŒãŒé«˜é€Ÿ

- **ã‚³ã‚¹ãƒˆåŠ¹ç‡æ€§**:

  - ç„¡æ–™æ : 100ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
  - æœˆé¡$5ã§ç„¡åˆ¶é™ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
  - ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯èª²é‡‘ãªã—

- **é–‹ç™ºåŠ¹ç‡æ€§**:

  - Dockerä¸è¦ã®ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒ
  - ãƒ–ãƒ©ãƒ³ãƒæ©Ÿèƒ½ã§Git-likeãªãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç®¡ç†
  - æ¨™æº–SQLã®ã‚·ãƒ³ãƒ—ãƒ«ãªæ“ä½œ

- **AI/MLç‰¹åŒ–æ©Ÿèƒ½**:
  - libSQL Vectoræ‹¡å¼µã§ãƒã‚¤ãƒ†ã‚£ãƒ–ãƒ™ã‚¯ãƒˆãƒ«æ¤œç´¢
  - åŸ‹ã‚è¾¼ã¿æ¤œç´¢ãŒå¾“æ¥ã®ãƒ™ã‚¯ãƒˆãƒ«DBã‚ˆã‚Šé«˜é€Ÿ
  - RAGç”¨é€”ã«æœ€é©åŒ–

#### Supabaseæ¯”è¼ƒ

| æ©Ÿèƒ½               | Turso            | Supabase     | å‹è€…      |
| ------------------ | ---------------- | ------------ | --------- |
| ã‚¨ãƒƒã‚¸ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·   | <50ms            | 100-200ms    | **Turso** |
| ç„¡æ–™ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ•° | 100å€‹            | 2å€‹          | **Turso** |
| ãƒ™ã‚¯ãƒˆãƒ«æ¤œç´¢       | ãƒã‚¤ãƒ†ã‚£ãƒ–libSQL | pgvectoræ‹¡å¼µ | **Turso** |
| èªè¨¼æ©Ÿèƒ½           | å¤–éƒ¨çµ±åˆæ¨å¥¨     | å†…è”µ         | Supabase  |
| ç®¡ç†UI             | ã‚·ãƒ³ãƒ—ãƒ«         | è±Šå¯Œ         | Supabase  |
| ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ        | æ–°èˆˆ             | æˆç†Ÿ         | Supabase  |

**ç·åˆåˆ¤å®š**:
AutoForgeNexusã®è¦ä»¶ï¼ˆã‚¨ãƒƒã‚¸ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã€ãƒ™ã‚¯ãƒˆãƒ«æ¤œç´¢ã€ã‚³ã‚¹ãƒˆåŠ¹ç‡ï¼‰ã«ãŠã„ã¦TursoãŒå„ªä½

### Tursoå®Ÿè£…è©³ç´°

#### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šè¨­å®š

```python
# Turso SQLAlchemyè¨­å®š
from sqlalchemy.ext.asyncio import create_async_engine, AsyncSession
from sqlalchemy.orm import sessionmaker
import libsql_client

# Tursoæ¥ç¶šè¨­å®š
TURSO_DATABASE_URL = os.getenv("TURSO_DATABASE_URL")  # libsql://...
TURSO_AUTH_TOKEN = os.getenv("TURSO_AUTH_TOKEN")

# SQLAlchemy Engine (libSQL)
async_engine = create_async_engine(
    f"sqlite+aiosqlite:///{TURSO_DATABASE_URL}",
    connect_args={
        "auth_token": TURSO_AUTH_TOKEN,
        "sync_url": TURSO_DATABASE_URL,
        "check_same_thread": False
    },
    echo=True,  # é–‹ç™ºæ™‚ã®SQLç¢ºèªç”¨
    pool_pre_ping=True
)

# ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¯ãƒˆãƒª
async_session_factory = sessionmaker(
    async_engine,
    class_=AsyncSession,
    expire_on_commit=False
)

# Tursoç›´æ¥ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆï¼ˆé«˜åº¦ãªæ“ä½œç”¨ï¼‰
turso_client = libsql_client.create_client(
    url=TURSO_DATABASE_URL,
    auth_token=TURSO_AUTH_TOKEN
)
```

#### ãƒ™ã‚¯ãƒˆãƒ«æ¤œç´¢å®Ÿè£…

```python
# libSQL Vectorçµ±åˆ
class TursoVectorRepository:
    def __init__(self, session: AsyncSession):
        self.session = session

    async def save_prompt_embedding(self, prompt_id: str, embedding: List[float], metadata: dict):
        """ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆåŸ‹ã‚è¾¼ã¿ãƒ™ã‚¯ãƒˆãƒ«ã®ä¿å­˜"""
        vector_data = {
            "prompt_id": prompt_id,
            "embedding": embedding,  # libSQLãŒè‡ªå‹•ã§ãƒ™ã‚¯ãƒˆãƒ«å‹ã«å¤‰æ›
            "metadata": json.dumps(metadata),
            "created_at": datetime.utcnow()
        }

        # libSQL Vectorãƒ†ãƒ¼ãƒ–ãƒ«ã«æŒ¿å…¥
        await self.session.execute(
            text("""
                INSERT INTO prompt_embeddings (prompt_id, embedding, metadata, created_at)
                VALUES (:prompt_id, vector(:embedding), :metadata, :created_at)
            """),
            vector_data
        )
        await self.session.commit()

    async def search_similar_prompts(self, query_embedding: List[float], limit: int = 10) -> List[dict]:
        """é¡ä¼¼ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæ¤œç´¢ï¼ˆã‚³ã‚µã‚¤ãƒ³é¡ä¼¼åº¦ï¼‰"""
        result = await self.session.execute(
            text("""
                SELECT
                    prompt_id,
                    metadata,
                    vector_distance_cos(embedding, vector(:query)) as similarity
                FROM prompt_embeddings
                WHERE vector_distance_cos(embedding, vector(:query)) > 0.7
                ORDER BY similarity DESC
                LIMIT :limit
            """),
            {"query": query_embedding, "limit": limit}
        )

        return [
            {
                "prompt_id": row.prompt_id,
                "metadata": json.loads(row.metadata),
                "similarity": row.similarity
            }
            for row in result.fetchall()
        ]
```

#### ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ç®¡ç†

```python
# Tursoå¯¾å¿œãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
class TursoMigrationManager:
    def __init__(self, database_url: str, auth_token: str):
        self.client = libsql_client.create_client(
            url=database_url,
            auth_token=auth_token
        )

    async def create_tables(self):
        """åˆæœŸãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆ"""
        migrations = [
            # ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ¼ãƒ–ãƒ«
            """
            CREATE TABLE IF NOT EXISTS prompts (
                id TEXT PRIMARY KEY,
                content TEXT NOT NULL,
                user_id TEXT NOT NULL,
                template_id TEXT,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
            """,

            # ãƒ™ã‚¯ãƒˆãƒ«åŸ‹ã‚è¾¼ã¿ãƒ†ãƒ¼ãƒ–ãƒ«
            """
            CREATE TABLE IF NOT EXISTS prompt_embeddings (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                prompt_id TEXT NOT NULL,
                embedding VECTOR(1536),  -- OpenAI ada-002 dimension
                metadata TEXT,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY (prompt_id) REFERENCES prompts (id)
            )
            """,

            # ãƒ™ã‚¯ãƒˆãƒ«æ¤œç´¢ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
            """
            CREATE INDEX IF NOT EXISTS idx_prompt_embeddings_vector
            ON prompt_embeddings (embedding)
            """,

            # è©•ä¾¡çµæœãƒ†ãƒ¼ãƒ–ãƒ«
            """
            CREATE TABLE IF NOT EXISTS evaluations (
                id TEXT PRIMARY KEY,
                prompt_id TEXT NOT NULL,
                accuracy_score REAL,
                hallucination_rate REAL,
                style_consistency REAL,
                evaluated_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY (prompt_id) REFERENCES prompts (id)
            )
            """
        ]

        for migration in migrations:
            await self.client.execute(migration)

    async def create_branch(self, branch_name: str, from_branch: str = "main"):
        """Tursoãƒ–ãƒ©ãƒ³ãƒæ©Ÿèƒ½ã®æ´»ç”¨"""
        # Note: ãƒ–ãƒ©ãƒ³ãƒä½œæˆã¯Turso CLIã¾ãŸã¯APIã§å®Ÿè¡Œ
        # ã“ã“ã§ã¯ãƒ–ãƒ©ãƒ³ãƒæƒ…å ±ã®è¨˜éŒ²ã®ã¿
        await self.client.execute(
            """
            INSERT INTO migration_branches (name, source_branch, created_at)
            VALUES (?, ?, ?)
            """,
            [branch_name, from_branch, datetime.utcnow()]
        )
```

## ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### Cloudflareçµ±åˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Cloudflare Edge Network                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Cloudflare Pagesâ”‚  â”‚ Cloudflare      â”‚  â”‚   R2 Object  â”‚  â”‚
â”‚  â”‚  (Next.js SSG)  â”‚  â”‚  Workers        â”‚  â”‚   Storage    â”‚  â”‚
â”‚  â”‚   + Clerk Auth  â”‚  â”‚  (Python/WASM)  â”‚  â”‚              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Core Services                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚     Turso       â”‚  â”‚     Redis       â”‚  â”‚   LangFuse   â”‚  â”‚
â”‚  â”‚ (Edge SQLite    â”‚  â”‚   (Upstash)     â”‚  â”‚ (LLM Observe)â”‚  â”‚
â”‚  â”‚  + libSQL Vec)  â”‚  â”‚                 â”‚  â”‚ + Grafana    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Tursoçµ±åˆé–‹ç™ºç’°å¢ƒ

```yaml
# docker-compose.yml
version: '3.8'
services:
  # Backend API
  api:
    build: ./backend
    environment:
      - TURSO_DATABASE_URL=libsql://...
      - TURSO_AUTH_TOKEN=...
      - REDIS_URL=redis://redis:6379
      - CLERK_SECRET_KEY=...
    depends_on:
      - redis
    # Tursoã¯ã‚¯ãƒ©ã‚¦ãƒ‰ãƒ™ãƒ¼ã‚¹ãªã®ã§ãƒ­ãƒ¼ã‚«ãƒ«ã‚³ãƒ³ãƒ†ãƒŠä¸è¦

  # Frontend (development)
  frontend:
    build: ./frontend
    environment:
      - NEXT_PUBLIC_API_URL=http://api:8000
      - NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=...
    depends_on:
      - api

  # Cache & Message Queue
  redis:
    image: redis:7-alpine
    volumes:
      - redis_data:/data

  # LangFuse (ã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼šãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç”¨)
  langfuse:
    image: langfuse/langfuse:latest
    environment:
      - DATABASE_URL=postgresql://langfuse:password@langfuse-db:5432/langfuse
      - NEXTAUTH_SECRET=your-secret
      - NEXTAUTH_URL=http://localhost:3001
    ports:
      - '3001:3000'
    depends_on:
      - langfuse-db

  langfuse-db:
    image: postgres:16-alpine
    environment:
      - POSTGRES_USER=langfuse
      - POSTGRES_PASSWORD=password
      - POSTGRES_DB=langfuse
    volumes:
      - langfuse_data:/var/lib/postgresql/data

volumes:
  redis_data:
  langfuse_data:
```

## ğŸ“Š ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¦ä»¶å®Ÿè£…

### ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£å¯¾å¿œ

```python
# æ¥ç¶šãƒ—ãƒ¼ãƒ«è¨­å®š
async_engine = create_async_engine(
    DATABASE_URL,
    pool_size=20,              # åŸºæœ¬æ¥ç¶šæ•°
    max_overflow=30,           # æœ€å¤§ã‚ªãƒ¼ãƒãƒ¼ãƒ•ãƒ­ãƒ¼
    pool_pre_ping=True,        # æ¥ç¶šç¢ºèª
    pool_recycle=3600,         # 1æ™‚é–“ã§æ¥ç¶šå†ä½œæˆ
)

# ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥
class CachedPromptQueryService:
    def __init__(self,
                 base_service: PromptQueryService,
                 cache: RedisClient):
        self.base_service = base_service
        self.cache = cache

    async def get_prompt_detail(self, prompt_id: PromptId) -> PromptDetailDto:
        cache_key = f"prompt:detail:{prompt_id.value}"

        # ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç¢ºèª
        cached = await self.cache.get(cache_key)
        if cached:
            return PromptDetailDto.from_json(cached)

        # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¯ã‚¨ãƒª
        result = await self.base_service.get_prompt_detail(prompt_id)

        # ã‚­ãƒ£ãƒƒã‚·ãƒ¥ä¿å­˜ï¼ˆ1æ™‚é–“ï¼‰
        await self.cache.setex(
            cache_key,
            3600,
            result.to_json()
        )

        return result
```

### éåŒæœŸå‡¦ç†è¨­è¨ˆ

```python
# ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã‚¿ã‚¹ã‚¯
class EvaluationTaskProcessor:
    def __init__(self, task_queue: TaskQueue):
        self.task_queue = task_queue

    async def process_evaluation_tasks(self):
        while True:
            try:
                task = await self.task_queue.get()
                await self._process_evaluation_task(task)
                await self.task_queue.ack(task)
            except Exception as e:
                logger.error(f"Task processing failed: {e}")
                await self.task_queue.nack(task)

    async def _process_evaluation_task(self, task: EvaluationTask):
        prompt = await self.prompt_repo.find_by_id(task.prompt_id)
        evaluation = await self.evaluation_service.evaluate(
            prompt,
            task.metrics
        )

        await self.evaluation_repo.save(evaluation)

        # ã‚¤ãƒ™ãƒ³ãƒˆç™ºè¡Œ
        await self.event_bus.publish(
            EvaluationCompleted(
                evaluation_id=evaluation.id,
                prompt_id=task.prompt_id,
                metrics=evaluation.metrics,
                occurred_at=datetime.utcnow()
            )
        )
```

## ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å®Ÿè£…

### èªè¨¼ãƒ»èªå¯

#### èªè¨¼ãƒ©ã‚¤ãƒ–ãƒ©ãƒªé¸å®š: **Clerk**

**é¸å®šç†ç”±**:

- Tursoã¨ã®å…¬å¼çµ±åˆã¨ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹
- åŒ…æ‹¬çš„ãªèªè¨¼æ©Ÿèƒ½ï¼ˆOAuthã€MFAã€çµ„ç¹”ç®¡ç†ï¼‰
- Edge-firstã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã§Cloudflare Workersã¨æœ€é©åŒ–
- ç„¡æ–™æ : 10,000 MAU
- æ—¥æœ¬èªå¯¾å¿œã¨ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºæº–å‚™

**å®Ÿè£…ä¾‹**:

```python
# Clerkçµ±åˆèªè¨¼
class ClerkAuthenticationService:
    def __init__(self, clerk_secret_key: str):
        self.clerk_secret_key = clerk_secret_key
        self.clerk_client = ClerkBackend(api_key=clerk_secret_key)

    async def authenticate(self, session_token: str) -> Optional[User]:
        try:
            # Clerkã‚»ãƒƒã‚·ãƒ§ãƒ³æ¤œè¨¼
            session = await self.clerk_client.sessions.verify_session(
                session_id=session_token
            )

            # ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±å–å¾—
            clerk_user = await self.clerk_client.users.get_user(
                user_id=session.user_id
            )

            # ãƒ‰ãƒ¡ã‚¤ãƒ³Userã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å¤‰æ›
            return User(
                id=UserId(clerk_user.id),
                email=clerk_user.email_addresses[0].email_address,
                name=f"{clerk_user.first_name} {clerk_user.last_name}",
                organization_id=clerk_user.organization_memberships[0].organization.id if clerk_user.organization_memberships else None
            )
        except ClerkAPIException:
            return None

# ãƒ­ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡
class RBACAuthorizationService:
    async def can_access_prompt(self, user: User, prompt_id: PromptId) -> bool:
        prompt = await self.prompt_repo.find_by_id(prompt_id)

        # æ‰€æœ‰è€…ãƒã‚§ãƒƒã‚¯
        if prompt.user_id == user.id:
            return True

        # çµ„ç¹”ãƒ¡ãƒ³ãƒãƒ¼ãƒã‚§ãƒƒã‚¯
        if user.organization_id and prompt.is_shared_with_organization():
            return True

        # å…¬é–‹ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒã‚§ãƒƒã‚¯
        if prompt.is_public():
            return True

        return False
```

## ğŸ” LLMè¦³æ¸¬æ€§ãƒ»è©•ä¾¡çµ±åˆ (LangFuse)

### LangFuseçµ±åˆæ¦‚è¦

**LangFuse**ã¯ã€AutoForgeNexusã®å…¨LLMå®Ÿè¡Œã‚’è¦³æ¸¬ãƒ»åˆ†æãƒ»è©•ä¾¡ã™ã‚‹ã‚³ã‚¢è¦³æ¸¬ãƒ„ãƒ¼ãƒ«ã¨ã—ã¦çµ±åˆã—ã¾ã™ã€‚

#### ä¸»è¦çµ±åˆæ©Ÿèƒ½

- **LLMãƒˆãƒ¬ãƒ¼ã‚·ãƒ³ã‚°**: å…¨ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå®Ÿè¡Œã®å®Œå…¨ãƒˆãƒ¬ãƒ¼ã‚¹
- **è©•ä¾¡ãƒ¡ãƒˆãƒªã‚¯ã‚¹**: 17ã®é©æ–°æ©Ÿèƒ½ã®åŠ¹æœæ¸¬å®š
- **ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç®¡ç†**: ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã¨å®Ÿé¨“ç®¡ç†
- **ã‚³ã‚¹ãƒˆç›£è¦–**: 100+ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã®ã‚³ã‚¹ãƒˆæœ€é©åŒ–

### LangFuseå®Ÿè£…è©³ç´°

#### Python SDKçµ±åˆ

```python
# LangFuse Clientè¨­å®š
from langfuse import Langfuse
from langfuse.decorators import observe, langfuse_context

langfuse = Langfuse(
    secret_key=os.getenv("LANGFUSE_SECRET_KEY"),
    public_key=os.getenv("LANGFUSE_PUBLIC_KEY"),
    host=os.getenv("LANGFUSE_HOST", "https://cloud.langfuse.com")
)

# ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå®Ÿè¡Œãƒˆãƒ¬ãƒ¼ã‚·ãƒ³ã‚°
@observe(name="prompt_optimization")
async def optimize_prompt_with_tracing(
    prompt: Prompt,
    strategy: OptimizationStrategy
) -> OptimizedPrompt:

    # LangFuseãƒˆãƒ¬ãƒ¼ã‚¹é–‹å§‹
    with langfuse_context.get_current_trace() as trace:
        trace.update(
            name="AutoForgeNexus Prompt Optimization",
            input={"prompt_content": prompt.content, "strategy": strategy.value},
            tags=["optimization", strategy.value]
        )

        # æ„å›³å·®åˆ†ãƒ“ãƒ¥ãƒ¼ãƒ¯ãƒ¼å®Ÿè¡Œ
        intent_gap = await analyze_intent_gap(prompt)
        trace.span(
            name="intent_diffoscope",
            input={"prompt": prompt.content},
            output={"gap_score": intent_gap.score, "suggestions": intent_gap.suggestions}
        )

        # LLMãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼å®Ÿè¡Œ
        for provider in ["openai", "anthropic", "gemini"]:
            with trace.span(name=f"llm_call_{provider}") as span:
                result = await call_llm_provider(provider, prompt)
                span.update(
                    input={"provider": provider, "prompt": prompt.content},
                    output={"response": result.content},
                    metadata={
                        "tokens_input": result.usage.input_tokens,
                        "tokens_output": result.usage.output_tokens,
                        "cost_usd": result.usage.cost
                    }
                )

        # è©•ä¾¡å®Ÿè¡Œ
        evaluation = await evaluate_prompt(prompt)
        trace.span(
            name="prompt_evaluation",
            input={"prompt": prompt.content},
            output={
                "accuracy_score": evaluation.accuracy,
                "hallucination_rate": evaluation.hallucination_rate,
                "style_consistency": evaluation.style_consistency
            }
        )

        return optimized_prompt

# ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆSLOç›£è¦–
@observe(name="prompt_slo_monitoring")
async def monitor_prompt_slo(prompt_id: str, slo_config: SLOConfig):
    """ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆSLOé•åã®ç›£è¦–ã¨ã‚¢ãƒ©ãƒ¼ãƒˆ"""

    # éå»24æ™‚é–“ã®ãƒ¡ãƒˆãƒªã‚¯ã‚¹å–å¾—
    metrics = await langfuse.get_traces(
        name="prompt_execution",
        tags=[f"prompt_id:{prompt_id}"],
        from_timestamp=datetime.now() - timedelta(hours=24)
    )

    # SLOé•åãƒã‚§ãƒƒã‚¯
    slo_violations = []

    accuracy_scores = [m.output.get('accuracy_score', 0) for m in metrics]
    avg_accuracy = sum(accuracy_scores) / len(accuracy_scores) if accuracy_scores else 0

    if avg_accuracy < slo_config.accuracy_threshold:
        slo_violations.append({
            "metric": "accuracy",
            "current": avg_accuracy,
            "threshold": slo_config.accuracy_threshold,
            "severity": "high"
        })

    # ã‚¢ãƒ©ãƒ¼ãƒˆé€ä¿¡
    if slo_violations:
        await send_slo_alert(prompt_id, slo_violations)

    return slo_violations
```

#### React/Next.jsçµ±åˆ

```typescript
// LangFuse Frontendçµ±åˆ
import { LangfuseWeb } from "langfuse";

export const langfuseWeb = new LangfuseWeb({
  publicKey: process.env.NEXT_PUBLIC_LANGFUSE_PUBLIC_KEY!,
  baseUrl: process.env.NEXT_PUBLIC_LANGFUSE_HOST || "https://cloud.langfuse.com"
});

// ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå®Ÿè¡Œã®å¯è¦–åŒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
export function PromptExecutionTrace({ traceId }: { traceId: string }) {
  const [trace, setTrace] = useState<Trace | null>(null);

  useEffect(() => {
    const fetchTrace = async () => {
      const traceData = await langfuseWeb.getTrace(traceId);
      setTrace(traceData);
    };
    fetchTrace();
  }, [traceId]);

  return (
    <div className="prompt-trace">
      <h3>å®Ÿè¡Œãƒˆãƒ¬ãƒ¼ã‚¹</h3>

      {/* æ„å›³å·®åˆ†ãƒ“ãƒ¥ãƒ¼ãƒ¯ãƒ¼çµæœ */}
      <div className="intent-gap-section">
        <h4>æ„å›³å·®åˆ†åˆ†æ</h4>
        <div className="gap-score">
          ã‚¹ã‚³ã‚¢: {trace?.spans?.find(s => s.name === 'intent_diffoscope')?.output?.gap_score}
        </div>
      </div>

      {/* LLMãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼æ¯”è¼ƒ */}
      <div className="llm-providers">
        <h4>ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼æ¯”è¼ƒ</h4>
        {trace?.spans?.filter(s => s.name.startsWith('llm_call_')).map(span => (
          <div key={span.id} className="provider-result">
            <span>{span.name.replace('llm_call_', '')}</span>
            <span>ã‚³ã‚¹ãƒˆ: ${span.metadata?.cost_usd}</span>
            <span>ãƒˆãƒ¼ã‚¯ãƒ³: {span.metadata?.tokens_output}</span>
          </div>
        ))}
      </div>

      {/* è©•ä¾¡çµæœ */}
      <div className="evaluation-results">
        <h4>å“è³ªè©•ä¾¡</h4>
        <div className="metrics">
          <span>æ­£ç¢ºæ€§: {trace?.spans?.find(s => s.name === 'prompt_evaluation')?.output?.accuracy_score}</span>
          <span>ãƒãƒ«ã‚·ãƒãƒ¼ã‚·ãƒ§ãƒ³: {trace?.spans?.find(s => s.name === 'prompt_evaluation')?.output?.hallucination_rate}</span>
        </div>
      </div>
    </div>
  );
}
```

### LangFuseè©•ä¾¡ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³

#### 17é©æ–°æ©Ÿèƒ½ã®è©•ä¾¡å®Ÿè£…

```python
# AutoForgeNexuså°‚ç”¨è©•ä¾¡ãƒ¡ãƒˆãƒªã‚¯ã‚¹
class AutoForgeNexusEvaluator:
    def __init__(self, langfuse_client: Langfuse):
        self.langfuse = langfuse_client

    @observe(name="innovative_features_evaluation")
    async def evaluate_innovative_features(self, prompt: Prompt, execution_result: dict) -> EvaluationResult:
        """17ã®é©æ–°æ©Ÿèƒ½ã®åŠ¹æœã‚’è©•ä¾¡"""

        evaluations = {}

        # 1. æ„å›³å·®åˆ†ãƒ“ãƒ¥ãƒ¼ãƒ¯ãƒ¼è©•ä¾¡
        intent_diffoscope_score = await self._evaluate_intent_diffoscope(
            prompt, execution_result.get('intent_analysis')
        )
        evaluations['intent_diffoscope'] = intent_diffoscope_score

        # 2. ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆSLOè©•ä¾¡
        slo_compliance = await self._evaluate_slo_compliance(
            prompt, execution_result.get('slo_metrics')
        )
        evaluations['prompt_slo'] = slo_compliance

        # 3. ã‚¹ã‚¿ã‚¤ãƒ«ãƒ»ã‚²ãƒãƒ è©•ä¾¡
        style_consistency = await self._evaluate_style_genome(
            prompt, execution_result.get('style_analysis')
        )
        evaluations['style_genome'] = style_consistency

        # LangFuseã«è©•ä¾¡çµæœé€ä¿¡
        await self.langfuse.score(
            name="autoforgenexus_innovative_features",
            value=sum(evaluations.values()) / len(evaluations),
            data_type="NUMERIC",
            config={
                "feature_scores": evaluations,
                "evaluation_timestamp": datetime.utcnow().isoformat()
            }
        )

        return EvaluationResult(
            overall_score=sum(evaluations.values()) / len(evaluations),
            feature_scores=evaluations,
            recommendations=await self._generate_improvement_recommendations(evaluations)
        )
```

### LangFuseãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆç®¡ç†

#### ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ç®¡ç†

```python
# ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆç®¡ç†
class PromptDatasetManager:
    def __init__(self, langfuse_client: Langfuse):
        self.langfuse = langfuse_client

    async def create_prompt_template(self, template: PromptTemplate) -> str:
        """LangFuseã«ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ç™»éŒ²"""

        prompt_template = await self.langfuse.create_prompt(
            name=template.name,
            prompt=template.content,
            config={
                "template_type": template.type,
                "parameters": template.parameters,
                "optimization_strategy": template.optimization_strategy
            },
            labels=template.tags,
            version=template.version
        )

        return prompt_template.id

    async def create_evaluation_dataset(self, dataset_name: str, test_cases: List[TestCase]) -> str:
        """è©•ä¾¡ç”¨ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã®ä½œæˆ"""

        dataset = await self.langfuse.create_dataset(name=dataset_name)

        for test_case in test_cases:
            await self.langfuse.create_dataset_item(
                dataset_id=dataset.id,
                input=test_case.input,
                expected_output=test_case.expected_output,
                metadata={
                    "category": test_case.category,
                    "difficulty": test_case.difficulty,
                    "features_tested": test_case.features_tested
                }
            )

        return dataset.id
```

### LangFuseè¨­å®šãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤

#### ç’°å¢ƒå¤‰æ•°è¨­å®š

```env
# LangFuse è¨­å®š
LANGFUSE_SECRET_KEY=sk-lf-...
LANGFUSE_PUBLIC_KEY=pk-lf-...
LANGFUSE_HOST=https://cloud.langfuse.com

# Self-hosted option
# LANGFUSE_HOST=http://localhost:3001
```

#### Docker Composeçµ±åˆ

```yaml
# LangFuse Self-hosted (ã‚ªãƒ—ã‚·ãƒ§ãƒ³)
langfuse:
  image: langfuse/langfuse:latest
  environment:
    - DATABASE_URL=postgresql://langfuse:password@langfuse-db:5432/langfuse
    - NEXTAUTH_SECRET=your-secret
    - NEXTAUTH_URL=http://localhost:3001
    - LANGFUSE_ENABLE_EXPERIMENTAL_FEATURES=true
  ports:
    - '3001:3000'
  depends_on:
    - langfuse-db

langfuse-db:
  image: postgres:16-alpine
  environment:
    - POSTGRES_USER=langfuse
    - POSTGRES_PASSWORD=password
    - POSTGRES_DB=langfuse
  volumes:
    - langfuse_data:/var/lib/postgresql/data
```

## ğŸ“ˆ ç›£è¦–ãƒ»ãƒ­ã‚®ãƒ³ã‚°

### åˆ†æ•£ãƒˆãƒ¬ãƒ¼ã‚·ãƒ³ã‚°

```python
from opentelemetry import trace
from opentelemetry.exporter.jaeger.thrift import JaegerExporter

tracer = trace.get_tracer(__name__)

class TracedPromptService:
    async def create_prompt(self, command: CreatePromptCommand) -> PromptId:
        with tracer.start_as_current_span("create_prompt") as span:
            span.set_attribute("user_id", str(command.user_id))
            span.set_attribute("content_length", len(command.content))

            try:
                prompt_id = await self._create_prompt_internal(command)
                span.set_attribute("prompt_id", str(prompt_id))
                return prompt_id
            except Exception as e:
                span.record_exception(e)
                span.set_status(trace.Status(trace.StatusCode.ERROR))
                raise
```

### ãƒ¡ãƒˆãƒªã‚¯ã‚¹åé›†

```python
from prometheus_client import Counter, Histogram, Gauge

# ã‚«ã‚¹ã‚¿ãƒ ãƒ¡ãƒˆãƒªã‚¯ã‚¹
prompt_created_total = Counter(
    'prompts_created_total',
    'Total number of prompts created',
    ['user_id', 'template_id']
)

evaluation_duration = Histogram(
    'evaluation_duration_seconds',
    'Time spent evaluating prompts',
    ['metric_type']
)

active_users = Gauge(
    'active_users',
    'Number of currently active users'
)
```

## ğŸ“Š è©³ç´°æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰æŠ€è¡“

| ã‚«ãƒ†ã‚´ãƒª        | æŠ€è¡“           | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | ç”¨é€”                   |
| --------------- | -------------- | ---------- | ---------------------- |
| è¨€èª            | Python         | 3.13       | ä¸»è¦è¨€èª               |
| ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯  | FastAPI        | 0.116.1    | Web API                |
| DB              | Turso (libSQL) | latest     | ã‚¨ãƒƒã‚¸ãƒ‡ãƒ¼ã‚¿æ°¸ç¶šåŒ–     |
| ãƒ™ã‚¯ãƒˆãƒ«DB      | libSQL Vector  | latest     | åŸ‹ã‚è¾¼ã¿æ¤œç´¢           |
| ã‚­ãƒ£ãƒƒã‚·ãƒ¥      | Redis          | 7          | ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ»ã‚­ãƒ£ãƒƒã‚·ãƒ¥ |
| ORM             | SQLAlchemy     | 2.0.32     | ãƒ‡ãƒ¼ã‚¿ãƒãƒƒãƒ”ãƒ³ã‚°       |
| èªè¨¼            | Clerk          | latest     | èªè¨¼ãƒ»èªå¯             |
| ã‚¿ã‚¹ã‚¯ã‚­ãƒ¥ãƒ¼    | Celery         | 5.4.0      | éåŒæœŸå‡¦ç†             |
| LLMçµ±åˆ         | LangChain      | 0.3.27     | LLMãƒã‚§ãƒ¼ãƒ³            |
| ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼    | LangGraph      | 0.6.7      | ãƒ•ãƒ­ãƒ¼ç®¡ç†             |
| LLMã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤ | LiteLLM        | 1.76.1     | çµ±ä¸€API                |
| LLMè¦³æ¸¬         | LangFuse       | 2.0+       | ãƒˆãƒ¬ãƒ¼ã‚·ãƒ³ã‚°ãƒ»è©•ä¾¡     |

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰æŠ€è¡“

| ã‚«ãƒ†ã‚´ãƒª       | æŠ€è¡“           | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | ç”¨é€”              |
| -------------- | -------------- | ---------- | ----------------- |
| ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ | Next.js        | 15.5.0     | SSR/SSG           |
| UI ãƒ©ã‚¤ãƒ–ãƒ©ãƒª  | React          | 19.0.0     | UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ  |
| è¨€èª           | TypeScript     | 5.x        | å‹å®‰å…¨æ€§          |
| ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°   | Tailwind CSS   | 4.0.0      | ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£CSS |
| ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ | shadcn/ui      | latest     | UIã‚­ãƒƒãƒˆ          |
| çŠ¶æ…‹ç®¡ç†       | Zustand        | 5.0.0      | ã‚°ãƒ­ãƒ¼ãƒãƒ«çŠ¶æ…‹    |
| ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒ | TanStack Query | 5.87.4     | ã‚µãƒ¼ãƒãƒ¼çŠ¶æ…‹      |
| ã‚¨ãƒ‡ã‚£ã‚¿       | Monaco Editor  | latest     | ã‚³ãƒ¼ãƒ‰ã‚¨ãƒ‡ã‚£ã‚¿    |
| ãƒ•ãƒ­ãƒ¼å›³       | React Flow     | 11.11.0    | ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼è¡¨ç¤º  |

### ã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£

| ã‚«ãƒ†ã‚´ãƒª                 | æŠ€è¡“               | ç”¨é€”                      |
| ------------------------ | ------------------ | ------------------------- |
| ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹             | Turso              | Edge SQLiteã€ãƒ™ã‚¯ãƒˆãƒ«æ¤œç´¢ |
| èªè¨¼ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ      | Clerk              | èªè¨¼ãƒ»èªå¯ãƒ»çµ„ç¹”ç®¡ç†      |
| ã‚¨ãƒƒã‚¸ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚° | Cloudflare Workers | Pythonå®Ÿè¡Œç’°å¢ƒ            |
| CDN                      | Cloudflare Pages   | é™çš„ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°          |
| ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸   | Cloudflare R2      | ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜              |
| ãƒ™ã‚¯ãƒˆãƒ«DB               | libSQL Vector      | åŸ‹ã‚è¾¼ã¿æ¤œç´¢              |
| ã‚³ãƒ³ãƒ†ãƒŠ                 | Docker             | é–‹ç™ºãƒ»æœ¬ç•ªç’°å¢ƒ            |
| ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³     | Docker Compose     | ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™º              |
| CI/CD                    | GitHub Actions     | è‡ªå‹•åŒ–ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³        |

### è¦³æ¸¬ãƒ»è©•ä¾¡ãƒ„ãƒ¼ãƒ«

| ã‚«ãƒ†ã‚´ãƒª         | æŠ€è¡“          | ç”¨é€”               |
| ---------------- | ------------- | ------------------ |
| LLMè¦³æ¸¬          | LangFuse      | ãƒˆãƒ¬ãƒ¼ã‚·ãƒ³ã‚°ãƒ»è©•ä¾¡ |
| å“è³ªè©•ä¾¡         | DeepEval      | å˜ä½“ãƒ†ã‚¹ãƒˆ         |
| RAGè©•ä¾¡          | Ragas         | RAGç‰¹åŒ–ãƒ¡ãƒˆãƒªã‚¯ã‚¹  |
| ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åˆ†æ | TruLens       | å“è³ªç›£è¦–           |
| ãƒ¡ãƒˆãƒªã‚¯ã‚¹       | Prometheus    | æ™‚ç³»åˆ—ãƒ‡ãƒ¼ã‚¿       |
| å¯è¦–åŒ–           | Grafana       | ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰     |
| ãƒˆãƒ¬ãƒ¼ã‚·ãƒ³ã‚°     | OpenTelemetry | åˆ†æ•£ãƒˆãƒ¬ãƒ¼ã‚¹       |

## ğŸ¯ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¦ä»¶

### ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚¿ã‚¤ãƒ ç›®æ¨™

- **p50**: < 200ms
- **p95**: < 500ms
- **p99**: < 1000ms

### ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆç›®æ¨™

- **API**: 1000 req/sec
- **WebSocket**: 10000 åŒæ™‚æ¥ç¶š
- **ãƒãƒƒãƒå‡¦ç†**: 100000 records/hour

### å¯ç”¨æ€§ç›®æ¨™

- **SLA**: 99.9% (æœˆé–“43åˆ†ä»¥å†…ã®ãƒ€ã‚¦ãƒ³ã‚¿ã‚¤ãƒ )
- **RTO**: 2æ™‚é–“
- **RPO**: 1æ™‚é–“
- **MTTR**: 30åˆ†

---

**ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæƒ…å ±**

- ä½œæˆæ—¥: 2025-09-22
- ãƒãƒ¼ã‚¸ãƒ§ãƒ³: 1.0
- ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ‘ã‚¿ãƒ¼ãƒ³: DDD + Event-Driven + Clean Architecture
- ç›®æ¨™æ€§èƒ½: 99.9% availability, <2s response time

ğŸ¤– Generated with AutoForgeNexus System
