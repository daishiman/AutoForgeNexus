# CI/CD DevOps ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ¬ãƒãƒ¼ãƒˆ

**ãƒ¬ãƒ“ãƒ¥ãƒ¼æ—¥**: 2025å¹´09æœˆ29æ—¥
**ãƒ¬ãƒ“ãƒ¥ãƒ¼å¯¾è±¡**: AutoForgeNexus ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³
**ãƒ¬ãƒ“ãƒ¥ã‚¢ãƒ¼**: DevOps Coordinator Agent

## ğŸ“Š ãƒ¬ãƒ“ãƒ¥ãƒ¼æ¦‚è¦

### å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«
- `.github/workflows/backend-ci.yml` (281è¡Œ)
- `.github/workflows/frontend-ci.yml` (311è¡Œ)
- `.github/workflows/integration-ci.yml` (255è¡Œ)
- `.githooks/pre-commit` (119è¡Œ)
- ãã®ä»–10å€‹ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«

### å…¨ä½“è©•ä¾¡ã‚¹ã‚³ã‚¢
ğŸŸ¢ **è‰¯å¥½**: 75/100ç‚¹
- ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼åˆ†é›¢: 8/10
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹: 6/10
- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£: 9/10
- ä¿å®ˆæ€§: 7/10
- ã‚³ã‚¹ãƒˆåŠ¹ç‡: 6/10

## âœ… å„ªç§€ãªç‚¹

### 1. ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼åˆ†é›¢è¨­è¨ˆ
- **Frontend/Backendåˆ†é›¢**: é©åˆ‡ã«ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹å¿—å‘ã§è¨­è¨ˆ
- **çµ±åˆãƒ†ã‚¹ãƒˆç‹¬ç«‹**: integration-ci.ymlã§è¤‡åˆãƒ†ã‚¹ãƒˆã‚’åˆ†é›¢
- **ãƒ‘ã‚¹æŒ‡å®šãƒˆãƒªã‚¬ãƒ¼**: å¤‰æ›´ã®ã‚ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã¿å®Ÿè¡Œ

### 2. åŒ…æ‹¬çš„ãªå“è³ªãƒã‚§ãƒƒã‚¯
- **å¤šå±¤å“è³ªã‚²ãƒ¼ãƒˆ**: Linting â†’ å‹ãƒã‚§ãƒƒã‚¯ â†’ ãƒ†ã‚¹ãƒˆ â†’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
- **ã‚«ãƒãƒ¬ãƒƒã‚¸è¿½è·¡**: Backend 80%ã€Frontend 75%ã®ã—ãã„å€¤è¨­å®š
- **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¹ã‚­ãƒ£ãƒ³**: Trivyã€OWASPã€Banditçµ±åˆ

### 3. ãƒ¢ãƒ€ãƒ³ãƒ„ãƒ¼ãƒ«ã‚¹ã‚¿ãƒƒã‚¯
- **æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: Node.js 22ã€Python 3.13ã€pnpm 9
- **é«˜æ€§èƒ½ãƒ„ãƒ¼ãƒ«**: Turbopackã€Ruffã€Next.js 15.5
- **ã‚³ãƒ³ãƒ†ãƒŠæœ€é©åŒ–**: Docker Buildxã‚­ãƒ£ãƒƒã‚·ãƒ¥æ´»ç”¨

### 4. è¦³æ¸¬æ€§ãƒ»ãƒ¬ãƒãƒ¼ãƒˆ
- **è©³ç´°ã‚¢ãƒ¼ãƒ†ã‚£ãƒ•ã‚¡ã‚¯ãƒˆ**: ãƒ†ã‚¹ãƒˆçµæœã€ã‚«ãƒãƒ¬ãƒƒã‚¸ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹
- **Lighthouse CI**: Core Web Vitalsè‡ªå‹•ç›£è¦–
- **çµ±åˆãƒ¬ãƒãƒ¼ãƒˆ**: Codecovçµ±åˆã€SARIFã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰

## âš ï¸ æ”¹å–„ãŒå¿…è¦ãªé ˜åŸŸ

### 1. é‡è¤‡å‡¦ç†ã®æœ€é©åŒ– (é‡è¦)

**å•é¡Œ**: ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã®é‡è¤‡
```yaml
# 3ã¤ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã§åŒä¸€å‡¦ç†ãŒ12å›å®Ÿè¡Œ
- pip install --upgrade pip
- pip install -r requirements.txt
- pnpm install --frozen-lockfile
```

**æ”¹å–„æ¡ˆ**: å…±æœ‰ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ä½œæˆ
```yaml
# .github/actions/setup-backend/action.yml
name: 'Setup Backend Environment'
inputs:
  python-version:
    default: '3.13'
runs:
  using: 'composite'
  steps:
    - uses: actions/setup-python@v5
      with:
        python-version: ${{ inputs.python-version }}
        cache: 'pip'
    - run: |
        python -m pip install --upgrade pip
        pip install -r requirements.txt
        pip install -r requirements-dev.txt
      shell: bash
```

### 2. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ– (é‡è¦)

**å•é¡Œ**: ä¸¦åˆ—å®Ÿè¡Œã®ä¸è¶³
- Backend CI: 6ã‚¸ãƒ§ãƒ–ãŒé †æ¬¡å®Ÿè¡Œï¼ˆæ¨å®š15-20åˆ†ï¼‰
- Frontend CI: 7ã‚¸ãƒ§ãƒ–ãŒé †æ¬¡å®Ÿè¡Œï¼ˆæ¨å®š12-18åˆ†ï¼‰

**æ”¹å–„æ¡ˆ**: ä¸¦åˆ—å®Ÿè¡Œã‚°ãƒ«ãƒ¼ãƒ—åŒ–
```yaml
jobs:
  # ä¸¦åˆ—å®Ÿè¡Œã‚°ãƒ«ãƒ¼ãƒ—1: é™çš„ãƒã‚§ãƒƒã‚¯ (3-5åˆ†)
  quality-checks:
    strategy:
      matrix:
        check: [linting, formatting, type-check, security]

  # ä¸¦åˆ—å®Ÿè¡Œã‚°ãƒ«ãƒ¼ãƒ—2: ãƒ†ã‚¹ãƒˆ (5-8åˆ†)
  test-suite:
    strategy:
      matrix:
        test-type: [unit, integration, domain]
```

### 3. ã‚³ã‚¹ãƒˆæœ€é©åŒ– (ä¸­ç¨‹åº¦)

**å•é¡Œ**: å®Ÿè¡Œæ™‚é–“ã‚³ã‚¹ãƒˆ
- 1PRå½“ãŸã‚Šæ¨å®šã‚³ã‚¹ãƒˆ: $0.50-0.80 (GitHub Actionsåˆ†)
- æœˆé–“æ¨å®šã‚³ã‚¹ãƒˆ: $30-50 (æ´»ç™ºé–‹ç™ºæ™‚)

**æ”¹å–„æ¡ˆ**: æ¡ä»¶ä»˜ãå®Ÿè¡Œ
```yaml
# è»½é‡ãƒ‘ã‚¹ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼
if: |
  contains(github.event.pull_request.changed_files, 'src/') ||
  contains(github.event.pull_request.changed_files, 'tests/')
```

### 4. ãƒˆãƒªã‚¬ãƒ¼æ¡ä»¶ã®æ”¹å–„ (ä¸­ç¨‹åº¦)

**å•é¡Œ**: éå‰°ãƒˆãƒªã‚¬ãƒ¼
```yaml
# ç¾åœ¨: å…¨ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼ãƒ–ãƒ©ãƒ³ãƒã§å®Ÿè¡Œ
branches: [main, develop, 'feature/autoforge-*']

# æ”¹å–„æ¡ˆ: PRã®ã¿ã§å®Ÿè¡Œ
on:
  pull_request:
    branches: [main, develop]
  push:
    branches: [main, develop]  # mainã¨developã®ã¿
```

## ğŸš€ å…·ä½“çš„æ”¹å–„ææ¡ˆ

### 1. å…±æœ‰ã‚¢ã‚¯ã‚·ãƒ§ãƒ³å°å…¥ (å„ªå…ˆåº¦: é«˜)

```bash
mkdir -p .github/actions/{setup-backend,setup-frontend,quality-checks}
```

**å®Ÿè£…åŠ¹æœ**:
- ã‚³ãƒ¼ãƒ‰é‡è¤‡ 60%å‰Šæ¸›
- å®Ÿè¡Œæ™‚é–“ 20%çŸ­ç¸®
- ä¿å®ˆæ€§å‘ä¸Š

### 2. ä¸¦åˆ—å®Ÿè¡Œæˆ¦ç•¥ (å„ªå…ˆåº¦: é«˜)

```yaml
# backend-ci.yml æ”¹å–„ç‰ˆ
jobs:
  setup:
    outputs:
      cache-key: ${{ steps.cache.outputs.cache-hit }}

  quality-matrix:
    needs: setup
    strategy:
      fail-fast: false
      matrix:
        check: [ruff, black, mypy, bandit]
    # 4ä¸¦åˆ—å®Ÿè¡Œã§ 12åˆ† â†’ 4åˆ†ã«çŸ­ç¸®
```

### 3. ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥æœ€é©åŒ– (å„ªå…ˆåº¦: ä¸­)

```yaml
# ãƒãƒ«ãƒãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚­ãƒ£ãƒƒã‚·ãƒ¥
- uses: actions/cache@v4
  with:
    path: |
      ~/.cache/pip
      ~/.pnpm-store
      ~/.cache/pypoetry
    key: ${{ runner.os }}-deps-${{ hashFiles('**/requirements*.txt', '**/pnpm-lock.yaml') }}
    restore-keys: |
      ${{ runner.os }}-deps-
```

### 4. æ¡ä»¶ä»˜ãã‚¸ãƒ§ãƒ–å®Ÿè¡Œ (å„ªå…ˆåº¦: ä¸­)

```yaml
# ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆã‚’æœ¬ç•ªã®ã¿ã«åˆ¶é™
performance:
  if: github.ref == 'refs/heads/main'

# E2Eãƒ†ã‚¹ãƒˆã‚’ãƒ¡ã‚¸ãƒ£ãƒ¼å¤‰æ›´æ™‚ã®ã¿å®Ÿè¡Œ
e2e:
  if: |
    contains(github.event.pull_request.labels.*.name, 'needs-e2e') ||
    github.ref == 'refs/heads/main'
```

## ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ”¹å–„æ¡ˆ

### 1. ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼æ§‹æˆè¦‹ç›´ã—

```
ç¾åœ¨: 3ãƒ¡ã‚¤ãƒ³ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ + 10ã‚µãƒãƒ¼ãƒˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ (13å€‹)
ææ¡ˆ: éšå±¤åŒ–ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

â”œâ”€â”€ ci-gate.yml (ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ)
â”œâ”€â”€ component-ci/
â”‚   â”œâ”€â”€ backend.yml
â”‚   â”œâ”€â”€ frontend.yml
â”‚   â””â”€â”€ integration.yml
â””â”€â”€ deployment/
    â”œâ”€â”€ staging.yml
    â””â”€â”€ production.yml
```

### 2. ã‚»ãƒ«ãƒ•ãƒ›ã‚¹ãƒˆãƒ©ãƒ³ãƒŠãƒ¼æ¤œè¨

**ç¾çŠ¶å•é¡Œ**:
- GitHub Actionsåˆ†ã‚ãŸã‚Šé«˜ã‚³ã‚¹ãƒˆ
- ãƒ“ãƒ«ãƒ‰æ™‚é–“ã®ä¸å®‰å®šæ€§

**ææ¡ˆ**:
- Cloudflare Workers CIï¼ˆè»½é‡ãƒ†ã‚¹ãƒˆç”¨ï¼‰
- è‡ªç¤¾ãƒ©ãƒ³ãƒŠãƒ¼ã§ã‚³ã‚¹ãƒˆ50%å‰Šæ¸›

### 3. æ®µéšçš„ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ

```yaml
deploy:
  strategy:
    matrix:
      environment: [staging, canary, production]
  steps:
    - name: Deploy to ${{ matrix.environment }}
      # æ®µéšçš„ãƒ­ãƒ¼ãƒ«ã‚¢ã‚¦ãƒˆ 20% â†’ 50% â†’ 100%
```

## ğŸ“ˆ å®Ÿè£…ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—

### Phase 1: å³åŠ¹æ€§æ”¹å–„ (1-2é€±é–“)
1. **å…±æœ‰ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ä½œæˆ**: setup-backend, setup-frontend
2. **ä¸¦åˆ—å®Ÿè¡Œå°å…¥**: quality-checks, test-suiteä¸¦åˆ—åŒ–
3. **ã‚­ãƒ£ãƒƒã‚·ãƒ¥æœ€é©åŒ–**: è¤‡åˆã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚­ãƒ¼å°å…¥

**æœŸå¾…åŠ¹æœ**:
- ãƒ“ãƒ«ãƒ‰æ™‚é–“ 40%çŸ­ç¸® (20åˆ† â†’ 12åˆ†)
- ã‚³ã‚¹ãƒˆ 30%å‰Šæ¸›
- é–‹ç™ºè€…ä½“é¨“å‘ä¸Š

### Phase 2: ä¸­æœŸæœ€é©åŒ– (3-4é€±é–“)
1. **æ¡ä»¶ä»˜ãå®Ÿè¡Œ**: ãƒ‘ã‚¹è§£æã«ã‚ˆã‚‹é¸æŠçš„å®Ÿè¡Œ
2. **ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼çµ±åˆ**: 13å€‹ â†’ 8å€‹ã«å‰Šæ¸›
3. **ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆè‡ªå‹•åŒ–**: ã‚«ãƒŠãƒªã‚¢ãƒªãƒªãƒ¼ã‚¹å¯¾å¿œ

**æœŸå¾…åŠ¹æœ**:
- å®Ÿè¡Œå›æ•° 50%å‰Šæ¸›
- ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆå“è³ªå‘ä¸Š
- é‹ç”¨ã‚³ã‚¹ãƒˆæœ€é©åŒ–

### Phase 3: æˆ¦ç•¥çš„æ”¹å–„ (1-2ãƒ¶æœˆ)
1. **ã‚»ãƒ«ãƒ•ãƒ›ã‚¹ãƒˆãƒ©ãƒ³ãƒŠãƒ¼**: Cloudflare Workers CIæ¤œè¨
2. **AIæ”¯æ´CI**: ãƒ•ã‚¡ã‚¤ãƒ«å¤‰æ›´ã®å½±éŸ¿è§£æ
3. **å…¨ç¤¾CI/CDãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ **: å†åˆ©ç”¨å¯èƒ½ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

## ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è€ƒæ…®äº‹é …

### ç¾åœ¨ã®å¯¾ç­–çŠ¶æ³
âœ… **è‰¯å¥½**:
- SARIFå½¢å¼ã§ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ¬ãƒãƒ¼ãƒˆ
- ä¾å­˜é–¢ä¿‚è„†å¼±æ€§ã‚¹ã‚­ãƒ£ãƒ³
- ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆæ¤œå‡º (pre-commit)
- Docker ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚¹ã‚­ãƒ£ãƒ³

âš ï¸ **å¼·åŒ–æ¨å¥¨**:
- SAST (Static Application Security Testing) çµ±åˆ
- ã‚³ãƒ³ãƒ†ãƒŠãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
- ã‚µãƒ—ãƒ©ã‚¤ãƒã‚§ãƒ¼ãƒ³ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ (SLSAå¯¾å¿œ)

### è¿½åŠ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æªç½®

```yaml
security-enhanced:
  steps:
    - name: Generate SLSA3 Provenance
      uses: slsa-framework/slsa-github-generator/.github/workflows/builder_go_slsa3.yml@v1.2.0

    - name: Cosign Container Signing
      run: |
        cosign sign --key cosign.key ${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}:${{ github.sha }}
```

## ğŸ“Š ãƒ¡ãƒˆãƒªã‚¯ã‚¹ãƒ»KPIææ¡ˆ

### é–‹ç™ºè€…ä½“é¨“ãƒ¡ãƒˆãƒªã‚¯ã‚¹
- **å¹³å‡ãƒ“ãƒ«ãƒ‰æ™‚é–“**: < 10åˆ†ç›®æ¨™
- **CIæˆåŠŸç‡**: > 95%ç¶­æŒ
- **é–‹ç™ºè€…å¾…æ©Ÿæ™‚é–“**: < 5åˆ†

### é‹ç”¨ãƒ¡ãƒˆãƒªã‚¯ã‚¹
- **æœˆé–“CI/CDã‚³ã‚¹ãƒˆ**: < $40
- **ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆé »åº¦**: Dailyç›®æ¨™
- **MTTR (Mean Time To Recovery)**: < 30åˆ†

### å“è³ªãƒ¡ãƒˆãƒªã‚¯ã‚¹
- **ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸**: Backend > 80%, Frontend > 75%
- **è„†å¼±æ€§æ¤œå‡ºç‡**: CRITICAL/HIGH 0å€‹ç¶­æŒ
- **æŠ€è¡“çš„è² å‚µ**: SonarQubeè©•ä¾¡ Aç´šç¶­æŒ

## ğŸ’¡ çµè«–ãƒ»å„ªå…ˆåº¦ä»˜ã‘

### ğŸ”´ é«˜å„ªå…ˆåº¦ (ä»Šã™ãå®Ÿè£…)
1. **å…±æœ‰ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ä½œæˆ** - é‡è¤‡æ’é™¤ã€ä¿å®ˆæ€§å‘ä¸Š
2. **ä¸¦åˆ—å®Ÿè¡Œå°å…¥** - å®Ÿè¡Œæ™‚é–“50%çŸ­ç¸®æœŸå¾…
3. **æ¡ä»¶ä»˜ãå®Ÿè¡Œ** - ã‚³ã‚¹ãƒˆ30%å‰Šæ¸›æœŸå¾…

### ğŸŸ¡ ä¸­å„ªå…ˆåº¦ (1ãƒ¶æœˆä»¥å†…)
4. **ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥æ”¹å–„** - è¿½åŠ 15%é€Ÿåº¦å‘ä¸Š
5. **ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼çµ±åˆ** - è¤‡é›‘æ€§å‰Šæ¸›
6. **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–** - SLSAæº–æ‹ 

### ğŸŸ¢ ä½å„ªå…ˆåº¦ (é•·æœŸæ¤œè¨)
7. **ã‚»ãƒ«ãƒ•ãƒ›ã‚¹ãƒˆãƒ©ãƒ³ãƒŠãƒ¼** - å¤§å¹…ã‚³ã‚¹ãƒˆå‰Šæ¸›
8. **AIæ”¯æ´CI** - æ¬¡ä¸–ä»£åŠ¹ç‡åŒ–
9. **ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ çµ±åˆ** - ã‚¹ã‚±ãƒ¼ãƒ«å¯¾å¿œ

---

**ã“ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã«ã‚ˆã‚Šã€AutoForgeNexusã®CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã¯ã€ç¾ä»£çš„ãªDevOpsãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã‚’è¸è¥²ã—ã¤ã¤ã€å®Ÿè£…å¯èƒ½ãªæ”¹å–„æ¡ˆã«ã‚ˆã‚Šå¤§å¹…ãªåŠ¹ç‡åŒ–ãŒæœŸå¾…ã§ãã¾ã™ã€‚**