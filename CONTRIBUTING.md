# コントリビューションガイドライン

AutoForgeNexusプロジェクトへの貢献ありがとうございます！このガイドでは、プロジェクトへの貢献方法について説明します。

## 📝 プルリクエスト(PR)ガイドライン

### PRタイトル規則

すべてのPRタイトルは**必ず**[Conventional Commits](https://www.conventionalcommits.org/)形式に従ってください。

#### 正しいフォーマット

```
<type>: <description>
```

**⚠️ 重要な注意事項**:
- タイトルの先頭や末尾に空白を含めないでください
- 不適切な空白は自動的に除去されますが、最初から正しい形式で記述してください

#### 利用可能なタイプ

| タイプ | 用途 |
|--------|------|
| `feat` | 新機能の追加 |
| `fix` | バグ修正 |
| `docs` | ドキュメントのみの変更 |
| `style` | コードの意味に影響を与えない変更（フォーマット、セミコロン追加等） |
| `refactor` | バグ修正や機能追加を伴わないコード変更 |
| `perf` | パフォーマンス改善 |
| `test` | テストの追加・修正 |
| `build` | ビルドシステムや外部依存関係の変更 |
| `ci` | CI設定ファイルやスクリプトの変更 |
| `chore` | その他の変更（ソースコードやテストに影響しない） |
| `revert` | 以前のコミットの取り消し |

#### 良い例

✅ 正しい例:
- `feat: ユーザー認証機能の追加`
- `fix: ログインボタンのクリックイベント修正`
- `docs: API仕様書の更新`
- `perf: データベースクエリの最適化`

❌ 間違った例:
- `  feat: 新機能追加` （先頭に空白）
- `Feature: 新機能` （タイプが不正）
- `feat:新機能` （コロンの後にスペースなし）
- `新機能追加` （タイプなし）

### PR作成前のチェックリスト

- [ ] PRタイトルがConventional Commits形式に従っている
- [ ] テストが全てパスしている
- [ ] リンターエラーがない
- [ ] 型チェックが通っている
- [ ] カバレッジ目標を達成している（バックエンド: 80%、フロントエンド: 75%）

## 🔀 ブランチ戦略

### ブランチ命名規則

```
<type>/<brief-description>
```

例:
- `feature/user-authentication`
- `fix/login-bug`
- `docs/api-documentation`

### ブランチフロー

1. `main`ブランチから新しいフィーチャーブランチを作成
2. 作業を完了し、コミット
3. PRを作成して`main`ブランチへマージ
4. マージ後、フィーチャーブランチは削除

## 💬 コミットメッセージ

コミットメッセージもConventional Commits形式に従ってください：

```
<type>[optional scope]: <description>

[optional body]

[optional footer(s)]
```

### コミットメッセージの例

```
feat(auth): JWTトークン認証の実装

- ユーザー登録エンドポイントの追加
- ログインエンドポイントの追加
- トークンリフレッシュ機能の実装

Closes #123
```

## 🧪 テスト

### テスト実行

```bash
# バックエンドテスト
cd backend
pytest tests/ --cov=src --cov-report=html

# フロントエンドテスト
cd frontend
pnpm test
pnpm test:e2e
```

### テストカバレッジ要件

- **バックエンド**: 最低80%
- **フロントエンド**: 最低75%

## 🔍 コードレビュー

### レビューポイント

1. **コード品質**
   - SOLID原則の遵守
   - DRY原則の適用
   - 適切な抽象化レベル
   - 一貫性のある命名規則

2. **セキュリティ**
   - 機密情報の露出防止
   - 入力検証の実装
   - SQLインジェクション対策
   - XSS防護措置

3. **パフォーマンス**
   - O(n²)以上のアルゴリズム回避
   - データベースクエリ最適化
   - メモリリークの防止
   - 適切な非同期処理

4. **テスト**
   - 新機能のテスト追加
   - エッジケースのカバレッジ
   - カバレッジ閾値の達成

## 🚀 自動化

### GitHub Actions

PRを作成すると、以下の自動チェックが実行されます：

- **PR Title Check**: Conventional Commits形式の検証
- **Code Quality**: 静的コード解析
- **Security Scan**: セキュリティ脆弱性スキャン
- **Test Coverage**: テストカバレッジレポート
- **Claude Review**: AI によるコードレビュー

### PRタイトル自動修正

PRタイトルに先頭・末尾の空白が含まれている場合、自動的に修正されます。修正が行われた場合、PRにコメントで通知されます。

## 📞 質問・サポート

質問やサポートが必要な場合：

1. [Issues](https://github.com/daishiman/AutoForgeNexus/issues)を確認
2. 新しいIssueを作成
3. [Discussions](https://github.com/daishiman/AutoForgeNexus/discussions)で質問

## 📜 行動規範

すべての貢献者は、プロジェクトの[行動規範](CODE_OF_CONDUCT.md)を遵守してください。

---

**ありがとうございます！** あなたの貢献がAutoForgeNexusをより良いプロジェクトにします。🚀